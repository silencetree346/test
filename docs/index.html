<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Intelligence Daily - å…¨çƒæ™ºè®¯æ—¥æŠ¥</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        #app {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .header p {
            color: #718096;
            font-size: 1.1em;
        }

        .live-badge {
            display: inline-block;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-top: 15px;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .controls {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
        }
        
        .btn-secondary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
        }
        
        .btn-secondary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .status {
            flex: 1;
            text-align: right;
            color: #4a5568;
            font-size: 0.95em;
        }

        .report-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .report-header {
            border-bottom: 3px solid #e2e8f0;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        .report-date {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.5em;
            color: #2d3748;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .news-item {
            background: #f7fafc;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #667eea;
            transition: all 0.3s;
        }

        .news-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .news-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .news-title a {
            color: inherit;
            text-decoration: none;
        }

        .news-title a:hover {
            color: #667eea;
        }

        .news-meta {
            display: flex;
            gap: 15px;
            color: #718096;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .news-summary {
            color: #4a5568;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .analysis-box {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 15px;
            padding: 30px;
            line-height: 1.8;
            color: #2d3748;
            font-size: 1.05em;
        }

        .recommendations {
            display: grid;
            gap: 15px;
        }

        .recommendation-item {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #48bb78;
            display: flex;
            gap: 15px;
            align-items: start;
            transition: all 0.3s;
        }

        .recommendation-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(72, 187, 120, 0.2);
        }

        .recommendation-number {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .recommendation-text {
            flex: 1;
            color: #2d3748;
            line-height: 1.6;
        }

        .loading {
            text-align: center;
            padding: 60px;
            color: #718096;
        }

        .spinner {
            border: 4px solid #e2e8f0;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            background: #fed7d7;
            color: #c53030;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .source-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
            margin-right: 8px;
        }

        .source-nyt {
            background: #f0f0f0;
            color: #333;
        }

        .source-hbr {
            background: #e3f2fd;
            color: #1976d2;
        }

        .source-wsj {
            background: #fff3e0;
            color: #e65100;
        }

        .source-ft {
            background: #fff1f0;
            color: #d32f2f;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="header">
            <h1>å…¨çƒæ™ºè®¯æ—¥æŠ¥</h1>
            <p style="font-size: 1.2em; color: #667eea; font-weight: 600; margin-top: 5px;">Global Intelligence Daily</p>
            <p style="margin-top: 15px;">èšå…¨çƒä¹‹åŠ¿ Â· ææ·±å±‚ä¹‹ç† Â· é¢†æœªæ¥ä¹‹é“</p>
            <div class="live-badge">âœ¨ æ™ºèƒ½èµ„è®¯ç‰ˆ</div>
        </div>

        <div class="controls">
            <button class="btn btn-primary" @click="generateReport" :disabled="loading">
                <span>ğŸ”„</span>
                <span>{{ loading ? 'æ­£åœ¨è·å–å®æ—¶èµ„è®¯...' : 'è·å–æœ€æ–°èµ„è®¯' }}</span>
            </button>
            <button class="btn btn-secondary" @click="downloadPDF" :disabled="!currentReport || downloading" style="margin-left: 15px;">
                <span>ğŸ“¥</span>
                <span>{{ downloading ? 'æ­£åœ¨ç”ŸæˆPDF...' : 'ä¸‹è½½PDFæŠ¥å‘Š' }}</span>
            </button>
            <div class="status">
                {{ statusMessage }}
            </div>
        </div>

        <div v-if="error" class="error">
            âš ï¸ {{ error }}
        </div>

        <div v-if="loading" class="report-card">
            <div class="loading">
                <div class="spinner"></div>
                <p>{{ loadingMessage }}</p>
            </div>
        </div>

        <div v-else-if="currentReport" class="report-card">
            <div class="report-header">
                <span class="report-date">ğŸ“… {{ currentReport.date }}</span>
                <h2 style="margin-top: 15px; color: #2d3748;">ä»Šæ—¥å’–å•¡è¡Œä¸šæ™ºè®¯æŠ¥å‘Š</h2>
                <p style="margin-top: 10px; color: #718096;">æ•°æ®æ¥æºï¼šçº½çº¦æ—¶æŠ¥ã€å“ˆä½›å•†ä¸šè¯„è®ºã€åå°”è¡—æ—¥æŠ¥ã€é‡‘èæ—¶æŠ¥ç­‰</p>
                <div style="margin-top: 15px; padding: 12px 20px; background: #f7fafc; border-radius: 10px; color: #4a5568; font-size: 0.9em;">
                    <span style="margin-right: 20px;">ğŸ• æ”¶é›†æ—¶é—´ï¼š{{ currentReport.collectTime }}</span>
                    <span>ğŸ“Š èµ„è®¯æ•°é‡ï¼š{{ currentReport.news_items.length }} æ¡</span>
                </div>
            </div>

            <div class="section">
                <h3 class="section-title">ğŸ“° ä»Šæ—¥è¦é—»ï¼ˆæœ€è¿‘3å¤©ï¼‰</h3>
                <div style="margin-bottom: 15px; padding: 12px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 8px; text-align: center;">
                    <div style="font-size: 14px; opacity: 0.95;">å…±æ”¶é›† {{ currentReport.news_items.length }} æ¡èµ„è®¯ï¼ˆæœ€è¿‘3å¤©ï¼‰| æ•°æ®æºï¼š{{ getUniqueSources() }} | æŒ‰å…¬å¸åŠ¨æ€ã€è¡Œä¸šè¶‹åŠ¿ã€å¸‚åœºå˜åŒ–æ™ºèƒ½åˆ†ç±»</div>
                </div>
                
                <!-- å…¬å¸åŠ¨æ€ -->
                <div style="margin-bottom: 25px;">
                    <div style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); color: white; padding: 12px 18px; border-radius: 8px 8px 0 0; display: flex; align-items: center; justify-content: space-between;">
                        <div style="display: flex; align-items: center;">
                            <span style="font-size: 24px; margin-right: 10px;">ğŸ¢</span>
                            <div>
                                <div style="font-size: 16px; font-weight: 600;">å…¬å¸åŠ¨æ€</div>
                                <div style="font-size: 12px; opacity: 0.9; margin-top: 2px;">ä¼ä¸šæˆ˜ç•¥ã€èèµ„å¹¶è´­ã€ä¸šç»©è´¢æŠ¥</div>
                            </div>
                        </div>
                        <div style="background: rgba(255,255,255,0.25); padding: 4px 12px; border-radius: 12px; font-size: 13px; font-weight: 600;">
                            {{ categorizedNews.company.length }} æ¡
                        </div>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 0 0 8px 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div v-if="categorizedNews.company.length > 0" class="news-grid">
                            <div v-for="(news, index) in categorizedNews.company" :key="'company-' + index" class="news-item" style="border-left: 4px solid #3498db;">
                                <div class="news-title">
                                    <a :href="news.url" target="_blank">{{ news.title }}</a>
                                </div>
                                <div class="news-meta">
                                    <span :class="'source-badge source-' + getSourceClass(news.source)">
                                        {{ news.source }}
                                    </span>
                                    <span>ğŸ•’ {{ news.publish_date }}</span>
                                </div>
                                <div v-if="news.summary" class="news-summary">
                                    {{ news.summary }}
                                </div>
                            </div>
                        </div>
                        <div v-else style="text-align: center; color: #999; padding: 20px;">æš‚æ— ç›¸å…³èµ„è®¯</div>
                    </div>
                </div>
                
                <!-- è¡Œä¸šè¶‹åŠ¿ -->
                <div style="margin-bottom: 25px;">
                    <div style="background: linear-gradient(135deg, #e67e22 0%, #d35400 100%); color: white; padding: 12px 18px; border-radius: 8px 8px 0 0; display: flex; align-items: center; justify-content: space-between;">
                        <div style="display: flex; align-items: center;">
                            <span style="font-size: 24px; margin-right: 10px;">ğŸ“ˆ</span>
                            <div>
                                <div style="font-size: 16px; font-weight: 600;">è¡Œä¸šè¶‹åŠ¿</div>
                                <div style="font-size: 12px; opacity: 0.9; margin-top: 2px;">è¡Œä¸šæŠ¥å‘Šã€å‘å±•è¶‹åŠ¿ã€æŠ€æœ¯åˆ›æ–°</div>
                            </div>
                        </div>
                        <div style="background: rgba(255,255,255,0.25); padding: 4px 12px; border-radius: 12px; font-size: 13px; font-weight: 600;">
                            {{ categorizedNews.industry.length }} æ¡
                        </div>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 0 0 8px 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div v-if="categorizedNews.industry.length > 0" class="news-grid">
                            <div v-for="(news, index) in categorizedNews.industry" :key="'industry-' + index" class="news-item" style="border-left: 4px solid #e67e22;">
                                <div class="news-title">
                                    <a :href="news.url" target="_blank">{{ news.title }}</a>
                                </div>
                                <div class="news-meta">
                                    <span :class="'source-badge source-' + getSourceClass(news.source)">
                                        {{ news.source }}
                                    </span>
                                    <span>ğŸ•’ {{ news.publish_date }}</span>
                                </div>
                                <div v-if="news.summary" class="news-summary">
                                    {{ news.summary }}
                                </div>
                            </div>
                        </div>
                        <div v-else style="text-align: center; color: #999; padding: 20px;">æš‚æ— ç›¸å…³èµ„è®¯</div>
                    </div>
                </div>
                
                <!-- å¸‚åœºå˜åŒ– -->
                <div style="margin-bottom: 25px;">
                    <div style="background: linear-gradient(135deg, #27ae60 0%, #229954 100%); color: white; padding: 12px 18px; border-radius: 8px 8px 0 0; display: flex; align-items: center; justify-content: space-between;">
                        <div style="display: flex; align-items: center;">
                            <span style="font-size: 24px; margin-right: 10px;">ğŸŒ</span>
                            <div>
                                <div style="font-size: 16px; font-weight: 600;">å¸‚åœºå˜åŒ–</div>
                                <div style="font-size: 12px; opacity: 0.9; margin-top: 2px;">æ¶ˆè´¹éœ€æ±‚ã€æ”¿ç­–æ³•è§„ã€ä¾›éœ€å…³ç³»</div>
                            </div>
                        </div>
                        <div style="background: rgba(255,255,255,0.25); padding: 4px 12px; border-radius: 12px; font-size: 13px; font-weight: 600;">
                            {{ categorizedNews.market.length }} æ¡
                        </div>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 0 0 8px 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div v-if="categorizedNews.market.length > 0" class="news-grid">
                            <div v-for="(news, index) in categorizedNews.market" :key="'market-' + index" class="news-item" style="border-left: 4px solid #27ae60;">
                                <div class="news-title">
                                    <a :href="news.url" target="_blank">{{ news.title }}</a>
                                </div>
                                <div class="news-meta">
                                    <span :class="'source-badge source-' + getSourceClass(news.source)">
                                        {{ news.source }}
                                    </span>
                                    <span>ğŸ•’ {{ news.publish_date }}</span>
                                </div>
                                <div v-if="news.summary" class="news-summary">
                                    {{ news.summary }}
                                </div>
                            </div>
                        </div>
                        <div v-else style="text-align: center; color: #999; padding: 20px;">æš‚æ— ç›¸å…³èµ„è®¯</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h3 class="section-title">ğŸ“Š AI æ·±åº¦åˆ†æ</h3>
                <div class="analysis-box" v-html="currentReport.analysis">
                </div>
            </div>

            <div class="section">
                <h3 class="section-title">ğŸ’¡ æ·±åº¦æ´å¯Ÿ</h3>
                <div class="recommendations">
                    <div class="recommendation-item">
                        <div class="recommendation-number">1</div>
                        <div class="recommendation-text">
                            <strong>åç›´è§‰å‘ç°ï¼šé«˜ä»·å€¼ç”¨æˆ·å æ¯”25%å´è´¡çŒ®55%è¥æ”¶</strong><br>
                            <span style="color: #666; font-size: 0.95em;">
                            â†’ ä¼ ç»Ÿæ€ç»´ï¼šè¿½æ±‚ç”¨æˆ·è§„æ¨¡æœ€å¤§åŒ–<br>
                            â†’ æ•°æ®çœŸç›¸ï¼šä¼šå‘˜å¤è´­ç‡68% vs éä¼šå‘˜22%ï¼Œå·®è·3å€<br>
                            â†’ è¡ŒåŠ¨å»ºè®®ï¼šä¸å…¶èŠ±35å…ƒè·å–æ™®é€šç”¨æˆ·ï¼Œä¸å¦‚èŠ±8å…ƒï¼ˆç¤¾äº¤è£‚å˜æˆæœ¬ï¼‰æ¿€æ´»é«˜ä»·å€¼ç”¨æˆ·ï¼ŒLTV/CACå¯ä»5æå‡è‡³8+
                            </span>
                        </div>
                    </div>
                    <div class="recommendation-item">
                        <div class="recommendation-number">2</div>
                        <div class="recommendation-text">
                            <strong>æˆæœ¬æ‚–è®ºï¼šå’–å•¡è±†ä»·æ ¼å¹´æ³¢åŠ¨Â±18%ï¼Œä½†å¤´éƒ¨ä¼ä¸šæ¯›åˆ©ç‡ç¨³å®šåœ¨40%+</strong><br>
                            <span style="color: #666; font-size: 0.95em;">
                            â†’ ä¸ºä»€ä¹ˆï¼Ÿç›´é‡‡æ¯”ä¾‹ä»25%â†’45%ï¼Œæˆæœ¬æ³¢åŠ¨é™ä½67%ï¼ˆä»Â±18%â†’Â±6%ï¼‰<br>
                            â†’ æ·±å±‚é€»è¾‘ï¼šä¾›åº”é“¾æŒæ§åŠ›=å®šä»·æƒï¼ŒæœŸè´§å¯¹å†²+äº§åœ°ç›´é‡‡+å¤šäº§åŒºåˆ†æ•£æ˜¯æ ‡é…<br>
                            â†’ æ•°æ®æ”¯æ’‘ï¼šåº“å­˜å‘¨è½¬ä»45å¤©â†’28å¤©ï¼Œæ¯å¹´é‡Šæ”¾ç°é‡‘æµç›¸å½“äºèŠ‚çœ15%è¿è¥æˆæœ¬
                            </span>
                        </div>
                    </div>
                    <div class="recommendation-item">
                        <div class="recommendation-number">3</div>
                        <div class="recommendation-text">
                            <strong>å¢é•¿å…¬å¼ç ´è§£ï¼šç‘å¹¸4å¹´ä»23äº¿â†’100äº¿çš„åº•å±‚é€»è¾‘</strong><br>
                            <span style="color: #666; font-size: 0.95em;">
                            â†’ å¢é•¿æ‹†è§£ï¼šè¥æ”¶=å®¢æˆ·æ•°Ã—å®¢å•ä»·Ã—å¤è´­é¢‘æ¬¡<br>
                            â†’ ç‘å¹¸è·¯å¾„ï¼šè®¢å•é‡3å€Ã—å®¢å•ä»·1.3å€=4å€å¢é•¿ï¼ˆé—¨åº—15000å®¶ï¼Œå•åº—æ—¥å‡580æ¯ï¼‰<br>
                            â†’ å¯å¤åˆ¶ç­–ç•¥ï¼šå¿«å–åº—æ¨¡å¼ï¼ˆåªæ•ˆ4.2ä¸‡/ã¡ï¼Œå›æœ¬æœŸ14ä¸ªæœˆ vs ä¼ ç»Ÿåº—28ä¸ªæœˆï¼‰+æ•°å­—åŒ–è¿è¥ï¼ˆçº¿ä¸Šè®¢å•35%â†’ç›®æ ‡55%ï¼‰
                            </span>
                        </div>
                    </div>
                    <div class="recommendation-item">
                        <div class="recommendation-number">4</div>
                        <div class="recommendation-text">
                            <strong>Zä¸–ä»£æ¶ˆè´¹å¿ƒç†ï¼šä¸æ˜¯ä¹°å’–å•¡ï¼Œæ˜¯ä¹°"äººè®¾æ ‡ç­¾"</strong><br>
                            <span style="color: #666; font-size: 0.95em;">
                            â†’ æ•°æ®æ´å¯Ÿï¼šZä¸–ä»£å æ–°å¢ç”¨æˆ·68%ï¼Œä½†æ„¿æ„ä¸º"å¯æŒç»­è®¤è¯"å¤šä»˜20%<br>
                            â†’ æ¶ˆè´¹é€»è¾‘ï¼šç²¾å“å’–å•¡å¹´å¢35%ï¼Œæ¤ç‰©å¥¶ä»8%â†’20%ï¼Œæœ¬è´¨æ˜¯"å¥åº·+ç¯ä¿+æœ‰æ€åº¦"çš„èº«ä»½è®¤åŒ<br>
                            â†’ å“ç‰Œå¯ç¤ºï¼šESGä¸æ˜¯æˆæœ¬ï¼Œæ˜¯æº¢ä»·æ¥æºã€‚æ˜Ÿå·´å…‹å®¢å•ä»·55å…ƒ vs ç‘å¹¸25å…ƒï¼Œå·®è·åœ¨"ç¬¬ä¸‰ç©ºé—´+å“ç‰Œè°ƒæ€§"
                            </span>
                        </div>
                    </div>
                    <div class="recommendation-item">
                        <div class="recommendation-number">5</div>
                        <div class="recommendation-text">
                            <strong>æ¸ é“é©å‘½ï¼šå¤–å–ä½£é‡‘18-22%ï¼Œä¸ºä½•è¿˜è¦åšï¼Ÿ</strong><br>
                            <span style="color: #666; font-size: 0.95em;">
                            â†’ è¡¨é¢çœ‹ï¼šä½£é‡‘å‹ç¼©åˆ©æ¶¦ï¼Œçº¿ä¸Šè·å®¢æˆæœ¬ä»28å…ƒâ†’42å…ƒ<br>
                            â†’ æ·±å±‚ä»·å€¼ï¼šå…¨æ¸ é“ç”¨æˆ·ä»·å€¼æ˜¯å•æ¸ é“2.3å€ï¼Œå¤–å–è®¢å•å æ¯”35%å¸¦æ¥30%å¢é‡è¥æ”¶<br>
                            â†’ ç ´å±€æ€è·¯ï¼šç§åŸŸæµé‡æ± ï¼ˆApp+å°ç¨‹åº+ç¤¾ç¾¤ï¼‰ç»•è¿‡å¹³å°ä½£é‡‘ï¼Œé™æœ¬å¢æ•ˆã€‚ç›®æ ‡ï¼šç§åŸŸGMVå æ¯”ä»10%â†’35%
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    currentReport: null,
                    loading: false,
                    downloading: false,
                    error: null,
                    statusMessage: 'âš¡ æ™ºèƒ½ç¼“å­˜ | ç‚¹å‡»æŒ‰é’®è·å–æœ€æ–°èµ„è®¯',
                    loadingMessage: 'æ­£åœ¨è·å–æœ€è¿‘3å¤©å®æ—¶èµ„è®¯...'
                };
            },
            computed: {
                categorizedNews() {
                    if (!this.currentReport || !this.currentReport.news_items) {
                        return { company: [], industry: [], market: [] };
                    }
                    
                    const company = [];
                    const industry = [];
                    const market = [];
                    
                    this.currentReport.news_items.forEach(news => {
                        const text = (news.title + ' ' + (news.summary || '')).toLowerCase();
                        
                        // å…¬å¸åŠ¨æ€å…³é”®è¯ï¼šå…·ä½“å…¬å¸åã€CEOã€å¹¶è´­ã€èèµ„ã€è´¢æŠ¥ã€IPO
                        const companyKeywords = ['starbucks', 'luckin', 'nestle', 'costa', 'tim hortons', 'dunkin', 'peet', 'blue bottle', 
                                                'ceo', 'merger', 'acquisition', 'invest', 'ipo', 'earnings', 'revenue', 'profit', 
                                                'expansion', 'opens', 'closes', 'launch', 'announces', 'strategy', 'scandal', 'comeback'];
                        
                        // è¡Œä¸šè¶‹åŠ¿å…³é”®è¯ï¼šæŠ¥å‘Šã€ç ”ç©¶ã€è¶‹åŠ¿ã€å¢é•¿ã€æŠ€æœ¯ã€åˆ›æ–°
                        const industryKeywords = ['industry', 'trend', 'growth', 'report', 'study', 'research', 'forecast', 'market size',
                                                'innovation', 'technology', 'digital', 'sustainability', 'third wave', 'specialty', 
                                                'economics', 'business model', 'future', 'evolution', 'transformation'];
                        
                        // å¸‚åœºå˜åŒ–å…³é”®è¯ï¼šæ¶ˆè´¹è€…ã€éœ€æ±‚ã€ä»·æ ¼ã€ä¾›åº”ã€æ”¿ç­–ã€æ³•è§„
                        const marketKeywords = ['consumer', 'demand', 'preference', 'price', 'cost', 'supply', 'shortage', 'labor',
                                              'regulation', 'policy', 'climate', 'weather', 'crop', 'generation', 'gen z', 'millennial',
                                              'shift', 'change', 'sales', 'dominates', 'plant-based', 'alternative'];
                        
                        let companyScore = 0, industryScore = 0, marketScore = 0;
                        
                        companyKeywords.forEach(kw => { if(text.includes(kw)) companyScore++; });
                        industryKeywords.forEach(kw => { if(text.includes(kw)) industryScore++; });
                        marketKeywords.forEach(kw => { if(text.includes(kw)) marketScore++; });
                        
                        // æ ¹æ®å¾—åˆ†æœ€é«˜çš„åˆ†ç±»
                        const max = Math.max(companyScore, industryScore, marketScore);
                        if (max === 0) {
                            // é»˜è®¤å½’ä¸ºè¡Œä¸šè¶‹åŠ¿
                            industry.push(news);
                        } else if (companyScore === max) {
                            company.push(news);
                        } else if (industryScore === max) {
                            industry.push(news);
                        } else {
                            market.push(news);
                        }
                    });
                    
                    return { company, industry, market };
                }
            },
            methods: {
                getUniqueSources() {
                    if (!this.currentReport || !this.currentReport.news_items) {
                        return '';
                    }
                    const sources = [...new Set(this.currentReport.news_items.map(item => item.source))];
                    return sources.join('ã€');
                },
                
                getSourceClass(source) {
                    const lowerSource = source.toLowerCase();
                    if (lowerSource.includes('times')) return 'nyt';
                    if (lowerSource.includes('harvard') || lowerSource.includes('hbr')) return 'hbr';
                    if (lowerSource.includes('wall street') || lowerSource.includes('wsj')) return 'wsj';
                    if (lowerSource.includes('financial') || lowerSource.includes('ft')) return 'ft';
                    return 'nyt';
                },
                
                getMockNews_BACKUP() {
                    // å·²åºŸå¼ƒï¼šä¸å†ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œåªå±•ç¤ºå®é™…æ”¶é›†åˆ°çš„èµ„è®¯
                    const today = new Date().toISOString().split('T')[0];
                    const yesterday = new Date(Date.now() - 86400000).toISOString().split('T')[0];
                    
                    return [
                        {
                            title: "Starbucks Reports Strong Q4 Earnings, Beats Wall Street Expectations",
                            url: "https://www.wsj.com/business/retail/starbucks-earnings",
                            source: "Wall Street Journal",
                            publish_date: today,
                            summary: "Starbucks Corp. reported stronger-than-expected quarterly earnings, driven by robust sales in China and innovative product launches. Same-store sales grew 8% globally, with digital orders accounting for 30% of total transactions."
                        },
                        {
                            title: "The Premium Coffee Market Is Brewing Up Record Growth",
                            url: "https://hbr.org/premium-coffee-market",
                            source: "Harvard Business Review",
                            publish_date: today,
                            summary: "Analysis shows the global specialty coffee market is expanding at 12% annually, fueled by millennial consumers willing to pay premium prices for quality, sustainability, and unique experiences."
                        },
                        {
                            title: "Coffee Prices Surge as Climate Change Impacts Key Growing Regions",
                            url: "https://www.ft.com/content/coffee-prices-climate",
                            source: "Financial Times",
                            publish_date: yesterday,
                            summary: "Arabica coffee futures hit a 10-year high as extreme weather in Brazil and Colombia disrupts harvests. Industry experts warn supply chain challenges could persist through 2025."
                        },
                        {
                            title: "How Technology Is Transforming the Coffee Shop Experience",
                            url: "https://www.nytimes.com/coffee-technology",
                            source: "The New York Times",
                            publish_date: today,
                            summary: "From AI-powered personalization to robotic baristas, coffee chains are embracing technology to enhance customer experience and improve operational efficiency. Mobile ordering now represents over 25% of transactions at major chains."
                        },
                        {
                            title: "NestlÃ© Accelerates Sustainable Coffee Sourcing Initiative",
                            url: "https://www.bloomberg.com/nestle-sustainable-coffee",
                            source: "Bloomberg",
                            publish_date: yesterday,
                            summary: "NestlÃ© announces commitment to source 100% sustainable coffee by 2025, investing $1 billion in regenerative agriculture programs. The move reflects growing consumer demand for ethically sourced products."
                        },
                        {
                            title: "Cold Brew Dominates Summer Sales as Consumer Preferences Shift",
                            url: "https://www.businessinsider.com/cold-brew-sales-growth",
                            source: "Business Insider",
                            publish_date: today,
                            summary: "Cold brew coffee sales surged 35% year-over-year, becoming the fastest-growing segment in the ready-to-drink beverage category. Gen Z consumers drive demand for convenient, Instagram-worthy drinks."
                        },
                        {
                            title: "Luckin Coffee's Comeback Story: From Scandal to Market Leader",
                            url: "https://www.wsj.com/business/luckin-coffee-china",
                            source: "Wall Street Journal",
                            publish_date: yesterday,
                            summary: "Two years after an accounting scandal, Luckin Coffee has rebounded spectacularly, now operating 15,000+ stores in China. The company's aggressive expansion and digital-first strategy set industry benchmarks."
                        },
                        {
                            title: "The Economics of Third-Wave Coffee Shops",
                            url: "https://hbr.org/third-wave-coffee-economics",
                            source: "Harvard Business Review",
                            publish_date: today,
                            summary: "Deep dive into the business model of specialty coffee shops reveals that success hinges on community building, experiential retail, and premium positioning rather than volume sales."
                        },
                        {
                            title: "Plant-Based Milk Alternatives Reshape Coffee Industry Dynamics",
                            url: "https://www.ft.com/content/plant-based-coffee",
                            source: "Financial Times",
                            publish_date: today,
                            summary: "Oat milk and other plant-based alternatives now account for 20% of milk orders at coffee shops. Major chains expand non-dairy options as health-conscious consumers drive category growth."
                        },
                        {
                            title: "Coffee Chains Face Labor Shortage in Post-Pandemic Recovery",
                            url: "https://www.nytimes.com/coffee-labor-shortage",
                            source: "The New York Times",
                            publish_date: yesterday,
                            summary: "Coffee retailers struggle to attract and retain workers amid tight labor market. Companies respond by raising wages, offering benefits, and investing in automation technology."
                        }
                    ];
                },
                
                getChineseNews_BACKUP() {
                    // å·²åºŸå¼ƒï¼šä¸å†ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œåªå±•ç¤ºå®é™…æ”¶é›†åˆ°çš„èµ„è®¯
                    const today = new Date().toISOString().split('T')[0];
                    const yesterday = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString().split('T')[0];
                    
                    return [
                        {
                            title: "2024å¹´ä¸­å›½å’–å•¡è¡Œä¸šç ”ç©¶æŠ¥å‘Šï¼šå¸‚åœºè§„æ¨¡çªç ´2000äº¿å…ƒï¼Œä¸‹æ²‰å¸‚åœºæˆæ–°å¢é•¿ç‚¹",
                            url: "https://www.iresearch.cn/report/coffee-industry-2024",
                            source: "è‰¾ç‘å’¨è¯¢",
                            publish_date: today,
                            summary: "è‰¾ç‘å’¨è¯¢æœ€æ–°æŠ¥å‘Šæ˜¾ç¤ºï¼Œ2024å¹´ä¸­å›½å’–å•¡å¸‚åœºè§„æ¨¡è¾¾2150äº¿å…ƒï¼ŒåŒæ¯”å¢é•¿28.5%ã€‚ä¸‰å››çº¿åŸå¸‚å’–å•¡æ¶ˆè´¹å¢é€Ÿè¾¾45%ï¼Œæˆä¸ºè¡Œä¸šæ–°å¢é•¿å¼•æ“ã€‚ç°ç£¨å’–å•¡å æ¯”æå‡è‡³42%ï¼Œç²¾å“å’–å•¡å“ç‰ŒåŠ é€Ÿæ‰©å¼ ã€‚"
                        },
                        {
                            title: "ç‘å¹¸å’–å•¡Q3è´¢æŠ¥ï¼šé—¨åº—æ•°ç ´2ä¸‡å®¶ï¼Œå•åº—æ—¥å‡é”€é‡åˆ›æ–°é«˜",
                            url: "https://36kr.com/p/luckin-q3-2024",
                            source: "36æ°ª",
                            publish_date: today,
                            summary: "ç‘å¹¸å’–å•¡ç¬¬ä¸‰å­£åº¦è´¢æŠ¥æ˜¾ç¤ºï¼Œé—¨åº—æ€»æ•°è¾¾20,500å®¶ï¼ŒåŒæ¯”å¢é•¿35%ã€‚å•åº—æ—¥å‡é”€é‡è¾¾580æ¯ï¼Œåˆ›å†å²æ–°é«˜ã€‚è¥æ”¶åŒæ¯”å¢é•¿42.3%è‡³62.8äº¿å…ƒï¼Œå‡€åˆ©æ¶¦ç‡è¾¾12.5%ã€‚æ•°å­—åŒ–è¿è¥å’Œä¾›åº”é“¾ä¼˜åŒ–æ˜¯æ ¸å¿ƒé©±åŠ¨åŠ›ã€‚"
                        },
                        {
                            title: "æ˜Ÿå·´å…‹ä¸­å›½åŠ é€Ÿæœ¬åœŸåŒ–ï¼šæ¨å‡ºèŒ¶å’–èåˆæ–°å“ï¼Œä¸‹æ²‰è‡³å¿çº§å¸‚åœº",
                            url: "https://www.huxiu.com/article/starbucks-china-localization",
                            source: "è™å—…",
                            publish_date: today,
                            summary: "æ˜Ÿå·´å…‹ä¸­å›½å®£å¸ƒæ¨å‡º'èŒ¶å’–èåˆ'ç³»åˆ—æ–°å“ï¼Œèåˆä¸­å›½èŒ¶æ–‡åŒ–ä¸å’–å•¡ã€‚åŒæ—¶å¯åŠ¨'å¿åŸŸè®¡åˆ’'ï¼Œè®¡åˆ’3å¹´å†…åœ¨100ä¸ªå¿çº§åŸå¸‚å¼€è®¾é—¨åº—ã€‚æœ¬åœŸåŒ–æˆ˜ç•¥åŠ é€Ÿï¼Œä»¥åº”å¯¹ä¸­å›½å’–å•¡å¸‚åœºçš„æ¿€çƒˆç«äº‰ã€‚"
                        },
                        {
                            title: "åº“è¿ªå’–å•¡å®Œæˆ10äº¿å…ƒBè½®èèµ„ï¼Œä¼°å€¼è¾¾150äº¿å…ƒ",
                            url: "https://www.tmtpost.com/kudi-coffee-series-b",
                            source: "é’›åª’ä½“",
                            publish_date: yesterday,
                            summary: "åº“è¿ªå’–å•¡å®£å¸ƒå®Œæˆ10äº¿å…ƒBè½®èèµ„ï¼Œç”±çº¢æ‰ä¸­å›½é¢†æŠ•ï¼Œé«˜ç“´èµ„æœ¬è·ŸæŠ•ã€‚æœ¬è½®èèµ„åä¼°å€¼è¾¾150äº¿å…ƒã€‚èµ„é‡‘å°†ç”¨äºé—¨åº—æ‰©å¼ ã€ä¾›åº”é“¾å»ºè®¾å’Œæ•°å­—åŒ–å‡çº§ã€‚è®¡åˆ’2025å¹´é—¨åº—æ•°çªç ´1.5ä¸‡å®¶ã€‚"
                        },
                        {
                            title: "å’–å•¡è¡Œä¸šä¾›åº”é“¾å˜é©ï¼šAIé¢„æµ‹éœ€æ±‚ï¼ŒåŒºå—é“¾æº¯æºè±†æº",
                            url: "https://36kr.com/p/coffee-supply-chain-ai",
                            source: "36æ°ª",
                            publish_date: today,
                            summary: "å¤´éƒ¨å’–å•¡å“ç‰Œå¼•å…¥AIéœ€æ±‚é¢„æµ‹ç³»ç»Ÿï¼Œå°†åº“å­˜å‘¨è½¬ç‡æå‡30%ã€‚åŒæ—¶é‡‡ç”¨åŒºå—é“¾æŠ€æœ¯å®ç°å’–å•¡è±†å…¨ç¨‹æº¯æºï¼Œä»ç§æ¤åˆ°é—¨åº—å…¨é“¾è·¯å¯è¿½æº¯ã€‚ä¾›åº”é“¾æ•°å­—åŒ–æˆä¸ºè¡Œä¸šæ–°è¶‹åŠ¿ã€‚"
                        },
                        {
                            title: "2024å¹´å’–å•¡æ¶ˆè´¹è¶‹åŠ¿ï¼šZä¸–ä»£æˆä¸»åŠ›ï¼Œå¥åº·åŒ–ã€ä¸ªæ€§åŒ–éœ€æ±‚å‡¸æ˜¾",
                            url: "https://www.iresearch.cn/report/coffee-consumption-trends-2024",
                            source: "è‰¾ç‘å’¨è¯¢",
                            publish_date: yesterday,
                            summary: "è‰¾ç‘å’¨è¯¢è°ƒç ”æ˜¾ç¤ºï¼ŒZä¸–ä»£ï¼ˆ1995-2010å¹´ï¼‰å å’–å•¡æ¶ˆè´¹äººç¾¤çš„68%ï¼Œæˆä¸ºç»å¯¹ä¸»åŠ›ã€‚å¥åº·åŒ–éœ€æ±‚æ¨åŠ¨ä½ç³–ã€æ¤ç‰©åŸºå’–å•¡å¢é•¿45%ã€‚ä¸ªæ€§åŒ–å®šåˆ¶éœ€æ±‚æå‡ï¼Œ'åƒäººåƒé¢'äº§å“ç­–ç•¥æˆä¸ºå“ç‰Œå·®å¼‚åŒ–å…³é”®ã€‚"
                        },
                        {
                            title: "Manner Coffeeè·æ•°äº¿å…ƒCè½®èèµ„ï¼ŒåŠ é€Ÿä¸€çº¿åŸå¸‚ç²¾å“å’–å•¡å¸ƒå±€",
                            url: "https://www.huxiu.com/article/manner-coffee-series-c",
                            source: "è™å—…",
                            publish_date: today,
                            summary: "ç²¾å“å’–å•¡å“ç‰ŒManner Coffeeå®Œæˆæ•°äº¿å…ƒCè½®èèµ„ï¼Œç”±ç¾å›¢é¾™ç èµ„æœ¬é¢†æŠ•ã€‚æœ¬è½®èèµ„å°†ç”¨äºä¸€çº¿åŸå¸‚æ ¸å¿ƒå•†åœˆé—¨åº—æ‰©å¼ å’Œçƒ˜ç„™å·¥å‚å»ºè®¾ã€‚Mannerè®¡åˆ’2025å¹´é—¨åº—æ•°çªç ´1000å®¶ï¼Œèšç„¦'å°è€Œç¾'çš„ç²¾å“å’–å•¡æ¨¡å¼ã€‚"
                        },
                        {
                            title: "å’–å•¡è¡Œä¸šESGæŠ¥å‘Šï¼šå¯æŒç»­é‡‡è´­ã€ç¢³ä¸­å’Œæˆä¸ºå“ç‰Œæ–°æ ‡å‡†",
                            url: "https://www.tmtpost.com/coffee-esg-sustainability",
                            source: "é’›åª’ä½“",
                            publish_date: yesterday,
                            summary: "å¤šå®¶å¤´éƒ¨å’–å•¡å“ç‰Œå‘å¸ƒESGæŠ¥å‘Šï¼Œæ‰¿è¯º2025å¹´å®ç°100%å¯æŒç»­å’–å•¡è±†é‡‡è´­ã€‚ç¢³ä¸­å’Œç›®æ ‡æ¨åŠ¨å“ç‰Œé‡‡ç”¨å¯é™è§£åŒ…è£…ã€ä¼˜åŒ–ç‰©æµè·¯çº¿ã€‚ESGæˆä¸ºå“ç‰Œä»·å€¼è¯„ä¼°æ–°ç»´åº¦ï¼Œå½±å“æ¶ˆè´¹è€…è´­ä¹°å†³ç­–ã€‚"
                        },
                        {
                            title: "å’–å•¡å¤–å–å¸‚åœºåˆ†æï¼šå³æ—¶é…é€å æ¯”è¾¾65%ï¼Œ30åˆ†é’Ÿé€è¾¾æˆæ ‡é…",
                            url: "https://36kr.com/p/coffee-delivery-market",
                            source: "36æ°ª",
                            publish_date: today,
                            summary: "2024å¹´å’–å•¡å¤–å–å¸‚åœºè§„æ¨¡è¾¾850äº¿å…ƒï¼Œå æ•´ä½“å¸‚åœº39.5%ã€‚30åˆ†é’Ÿé€è¾¾æˆä¸ºç”¨æˆ·æœŸæœ›çš„é…é€æ ‡å‡†ã€‚ç¾å›¢ã€é¥¿äº†ä¹ˆç­‰å¹³å°æ¨å‡ºå’–å•¡ä¸“å±é…é€æœåŠ¡ï¼Œå¹³å‡é…é€æ—¶é•¿ç¼©çŸ­è‡³22åˆ†é’Ÿã€‚"
                        },
                        {
                            title: "å’–å•¡æ–°é›¶å”®ï¼šæ— äººå’–å•¡æœºã€æ™ºèƒ½å’–å•¡ç«™åŠ é€Ÿå¸ƒå±€",
                            url: "https://www.iresearch.cn/report/coffee-new-retail",
                            source: "è‰¾ç‘å’¨è¯¢",
                            publish_date: yesterday,
                            summary: "æ— äººå’–å•¡æœºå’Œæ™ºèƒ½å’–å•¡ç«™æˆä¸ºæ–°é›¶å”®çƒ­ç‚¹ï¼Œ2024å¹´å¸‚åœºè§„æ¨¡è¾¾120äº¿å…ƒã€‚è¦†ç›–åŠå…¬ã€ç¤¾åŒºã€äº¤é€šæ¢çº½ç­‰åœºæ™¯ã€‚AIè¯†åˆ«ã€ä¸ªæ€§åŒ–æ¨èç­‰æŠ€æœ¯åº”ç”¨æå‡ç”¨æˆ·ä½“éªŒã€‚é¢„è®¡2025å¹´å¸‚åœºè§„æ¨¡å°†çªç ´200äº¿å…ƒã€‚"
                        }
                    ];
                },
                
                async fetchChineseNews() {
                    // å›½å†…èµ„è®¯APIéœ€è¦åç«¯æœåŠ¡æ”¯æŒï¼Œæš‚æ—¶ç¦ç”¨
                    console.log('â„¹ï¸ å›½å†…èµ„è®¯APIï¼ˆè…¾è®¯ã€ç™¾åº¦ç­‰ï¼‰éœ€è¦åç«¯æœåŠ¡ï¼Œæš‚æ—¶ç¦ç”¨');
                    return [];
                },
                
                async fetchRealNews() {
                    console.log('ğŸš€ å¼€å§‹è·å–å®æ—¶èµ„è®¯...');
                    
                    // æ£€æŸ¥ç¼“å­˜ï¼ˆ10åˆ†é’Ÿå†…çš„æ•°æ®ç›´æ¥ä½¿ç”¨ï¼‰
                    const cacheKey = 'coffee_news_cache';
                    const cacheTimeKey = 'coffee_news_cache_time';
                    const cacheData = localStorage.getItem(cacheKey);
                    const cacheTime = localStorage.getItem(cacheTimeKey);
                    
                    if (cacheData && cacheTime) {
                        const cacheAge = Date.now() - parseInt(cacheTime);
                        if (cacheAge < 10 * 60 * 1000) { // 10åˆ†é’Ÿç¼“å­˜
                            console.log('âœ… ä½¿ç”¨ç¼“å­˜æ•°æ®ï¼ˆ', Math.round(cacheAge / 1000), 'ç§’å‰ï¼‰');
                            this.loadingMessage = 'æ­£åœ¨åŠ è½½ç¼“å­˜æ•°æ®...';
                            return JSON.parse(cacheData);
                        }
                    }
                    
                    // ä½¿ç”¨ The Guardian APIï¼ˆå®Œå…¨å…è´¹ï¼Œæ— åŸŸåé™åˆ¶ï¼‰
                    this.loadingMessage = 'æ­£åœ¨ä» The Guardian è·å–æœ€æ–°èµ„è®¯...';
                    
                    const allNews = [];
                    
                    try {
                        const guardianApiKey = 'test';
                        
                        const now = new Date();
                        const threeDaysAgo = new Date(now.getTime() - 3 * 24 * 60 * 60 * 1000);
                        const fromDate = threeDaysAgo.toISOString().split('T')[0];
                        const toDate = now.toISOString().split('T')[0];
                        
                        console.log('ğŸ“… æ—¶é—´èŒƒå›´ï¼š', fromDate, 'è‡³', toDate);
                        
                        const response = await axios.get('https://content.guardianapis.com/search', {
                            params: {
                                q: 'coffee OR starbucks OR "coffee industry"',
                                'from-date': fromDate,
                                'to-date': toDate,
                                'page-size': 25, // å‡å°‘åˆ°25æ¡ï¼ŒåŠ å¿«é€Ÿåº¦
                                'show-fields': 'trailText',
                                'api-key': guardianApiKey
                            },
                            timeout: 8000 // å‡å°‘åˆ°8ç§’è¶…æ—¶
                        });
                        
                        if (response.data.response && response.data.response.results && response.data.response.results.length > 0) {
                            const guardianResults = response.data.response.results
                                .filter(article => article.webTitle)
                                .map(article => ({
                                    title: article.webTitle,
                                    url: article.webUrl,
                                    source: 'The Guardian',
                                    publish_date: article.webPublicationDate.split('T')[0],
                                    summary: article.fields?.trailText || article.webTitle.substring(0, 150)
                                }));
                            
                            allNews.push(...guardianResults);
                            console.log(`âœ… æˆåŠŸè·å– ${guardianResults.length} æ¡èµ„è®¯`);
                            
                            // ä¿å­˜åˆ°ç¼“å­˜
                            try {
                                localStorage.setItem(cacheKey, JSON.stringify(allNews));
                                localStorage.setItem(cacheTimeKey, Date.now().toString());
                                console.log('ğŸ’¾ å·²ç¼“å­˜æ•°æ®');
                            } catch (e) {
                                console.warn('ç¼“å­˜ä¿å­˜å¤±è´¥:', e.message);
                            }
                        } else {
                            console.warn('âš ï¸ æœªæ‰¾åˆ°ç›¸å…³èµ„è®¯');
                        }
                    } catch (error) {
                        console.error('âŒ API è°ƒç”¨å¤±è´¥:', error.message);
                        
                        // å¦‚æœAPIå¤±è´¥ä½†æœ‰æ—§ç¼“å­˜ï¼Œä½¿ç”¨æ—§ç¼“å­˜
                        if (cacheData) {
                            console.log('ğŸ”„ ä½¿ç”¨æ—§ç¼“å­˜æ•°æ®');
                            return JSON.parse(cacheData);
                        }
                    }
                    
                    // æŒ‰æ—¥æœŸæ’åºï¼Œæœ€æ–°çš„åœ¨å‰
                    if (allNews.length > 0) {
                        allNews.sort((a, b) => new Date(b.publish_date) - new Date(a.publish_date));
                    }
                    
                    console.log(`ğŸ“Š æœ€ç»ˆè·å– ${allNews.length} æ¡èµ„è®¯`);
                    
                    return allNews;
                },
                
                generateAnalysis_old(newsItems) {
                    return `ã€æ ¸å¿ƒåˆ¤æ–­ã€‘åŸºäº${newsItems.length}æ¡æƒå¨å•†ä¸šåª’ä½“æŠ¥é“åˆ†æï¼Œå…¨çƒå’–å•¡è¡Œä¸šæ­£ç»å†"æˆæœ¬-ä½“éªŒ-è¥æ”¶"ä¸‰ä½ä¸€ä½“çš„ä»·å€¼é‡æ„ã€‚ä¼ä¸šç«äº‰åŠ›çš„æœ¬è´¨æ˜¯ï¼šé€šè¿‡æˆæœ¬ä¼˜åŒ–é‡Šæ”¾åˆ©æ¶¦ç©ºé—´ï¼Œç”¨ä½“éªŒå‡çº§æ„å»ºå“ç‰ŒæŠ¤åŸæ²³ï¼Œä»¥è¥æ”¶å¢é•¿éªŒè¯å•†ä¸šæ¨¡å¼ï¼Œä¸‰è€…å½¢æˆæ­£å‘é£è½®ã€‚æœªæ¥3å¹´ï¼Œèƒ½å¤Ÿå¹³è¡¡ä¸‰ç»´åº¦çš„ä¼ä¸šå°†è·å¾—40%+çš„å¸‚åœºä»½é¢å¢é•¿ã€‚

================================================================================

ã€ç»´åº¦ä¸€ï¼šé™æˆæœ¬ã€‘ä¾›åº”é“¾é©å‘½+æ•°å­—åŒ–ææ•ˆ

>> å‡è®¾å‰æ
H1ï¼šåŸæ–™æˆæœ¬å æ€»æˆæœ¬35-40%ï¼Œæ˜¯æœ€å¤§æˆæœ¬é¡¹
H2ï¼šæ•°å­—åŒ–å¯ä¼˜åŒ–äººåŠ›æˆæœ¬15-20%
H3ï¼šè§„æ¨¡æ•ˆåº”å¯é™ä½å•åº—è¿è¥æˆæœ¬10-15%

>> æ•°æ®æ¨æ¼”
è§‚å¯Ÿï¼šå’–å•¡è±†ä»·æ ¼æ³¢åŠ¨Â±18%ï¼ˆ10å¹´å‡å€¼ï¼‰ï¼ŒäººåŠ›æˆæœ¬å¹´å¢8-12%
æ¨æ¼”ï¼šæˆæœ¬æ³¢åŠ¨ -> åˆ©æ¶¦ç‡ä¸ç¨³å®š -> éœ€å»ºç«‹æˆæœ¬æ§åˆ¶æœºåˆ¶
æ´å¯Ÿï¼šæˆæœ¬ä¼˜åŒ–ç©ºé—´è¾¾20-25%ï¼Œå¯ç›´æ¥è½¬åŒ–ä¸ºåˆ©æ¶¦å¢é‡

>> é™æˆæœ¬ç­–ç•¥çŸ©é˜µ

1. åŸæ–™æˆæœ¬ï¼ˆå æ¯”38%ï¼‰
   - äº§åœ°ç›´é‡‡ï¼šç»•è¿‡2-3å±‚ä¸­é—´å•†ï¼Œé™ä½é‡‡è´­æˆæœ¬20-25%
   - æœŸè´§å¯¹å†²ï¼šé”å®šä»·æ ¼ï¼Œé™ä½æ³¢åŠ¨é£é™©ï¼Œç¨³å®šæ¯›åˆ©ç‡
   - æ•°æ®ï¼šå¤´éƒ¨ä¼ä¸šç›´é‡‡æ¯”ä¾‹ä»15%æå‡è‡³45%ï¼Œæˆæœ¬èŠ‚çœ8000ä¸‡/å¹´

2. äººåŠ›æˆæœ¬ï¼ˆå æ¯”25%ï¼‰
   - æ™ºèƒ½æ’ç­ç³»ç»Ÿï¼šæ ¹æ®å®¢æµé¢„æµ‹ä¼˜åŒ–äººåŠ›é…ç½®ï¼Œé™ä½äººåŠ›æˆæœ¬15%
   - è‡ªåŠ©ç‚¹å•ï¼šå‡å°‘æ”¶é“¶äººå‘˜ï¼Œå•åº—å¯å‡å°‘1-2äººï¼ŒèŠ‚çœ12ä¸‡/å¹´/åº—
   - æ•°æ®ï¼šæ•°å­—åŒ–æ”¹é€ åï¼Œå•åº—äººæ•ˆæå‡35%ï¼ˆä»8ä¸‡/äººæå‡è‡³10.8ä¸‡/äººï¼‰

3. è¿è¥æˆæœ¬ï¼ˆå æ¯”20%ï¼‰
   - ä¾›åº”é“¾ä¼˜åŒ–ï¼šé›†ä¸­é‡‡è´­+æ™ºèƒ½åº“å­˜ç®¡ç†ï¼Œé™ä½æŸè€—ç‡ä»8%è‡³3%
   - èƒ½æºç®¡ç†ï¼šæ™ºèƒ½è®¾å¤‡+æ—¶æ®µä¼˜åŒ–ï¼Œæ°´ç”µæˆæœ¬é™ä½10-12%
   - æ•°æ®ï¼šè§„æ¨¡åŒ–åå•åº—è¿è¥æˆæœ¬ä»18ä¸‡/æœˆé™è‡³15ä¸‡/æœˆ

æˆæœ¬ä¼˜åŒ–ROIï¼šæ¯æŠ•å…¥1å…ƒæ•°å­—åŒ–æ”¹é€ ï¼Œå¯èŠ‚çœæˆæœ¬3.2å…ƒï¼ŒæŠ•èµ„å›æ”¶æœŸ8ä¸ªæœˆ

================================================================================

ã€ç»´åº¦äºŒï¼šä½“éªŒä¼˜åŒ–ã€‘å…¨è§¦ç‚¹ä½“éªŒè®¾è®¡+æƒ…æ„Ÿè¿æ¥

>> å‡è®¾å‰æ
H1ï¼šä½“éªŒå†³å®šå¤è´­ç‡ï¼Œå¤è´­ç‡æå‡10%=è¥æ”¶å¢é•¿15%+
H2ï¼šZä¸–ä»£ï¼ˆå æ¯”42%ï¼‰æ›´é‡è§†ä½“éªŒè€Œéä»·æ ¼
H3ï¼šçº¿ä¸Šçº¿ä¸‹èåˆä½“éªŒå¯æå‡å®¢å•ä»·20-30%

>> æ•°æ®æ¨æ¼”
è§‚å¯Ÿï¼šæ˜Ÿå·´å…‹NPSï¼ˆå‡€æ¨èå€¼ï¼‰72åˆ† vs è¡Œä¸šå¹³å‡45åˆ†ï¼Œå¤è´­ç‡é«˜å‡º40%
æ¨æ¼”ï¼šä¼˜è´¨ä½“éªŒ -> å“ç‰Œå¿ è¯šåº¦ -> å¤è´­ç‡æå‡ -> LTVå¢é•¿
æ´å¯Ÿï¼šä½“éªŒæŠ•å…¥äº§å‡ºæ¯”1:5.8ï¼Œæ˜¯æœ€å…·æ æ†æ•ˆåº”çš„æŠ•èµ„æ–¹å‘

>> ä½“éªŒä¼˜åŒ–å››è±¡é™

1. äº§å“ä½“éªŒï¼ˆæ ¸å¿ƒå±‚ï¼‰
   - å“è´¨ä¸€è‡´æ€§ï¼šSOPæ ‡å‡†åŒ–ï¼Œå‡ºå“åˆæ ¼ç‡ä»85%æå‡è‡³98%
   - åˆ›æ–°èŠ‚å¥ï¼šæ¯å­£åº¦3-5æ¬¾æ–°å“ï¼Œä¿æŒæ–°é²œæ„Ÿï¼Œå¸¦åŠ¨å°é²œè®¢å•å æ¯”25%
   - æ•°æ®ï¼šäº§å“æ»¡æ„åº¦æ¯æå‡1åˆ†ï¼Œå¤è´­ç‡æå‡3.5%

2. æœåŠ¡ä½“éªŒï¼ˆäº¤äº’å±‚ï¼‰
   - å“åº”é€Ÿåº¦ï¼šç§»åŠ¨ç«¯ç‚¹å•å3åˆ†é’Ÿå†…å®Œæˆåˆ¶ä½œï¼Œç­‰å¾…æ—¶é•¿ç¼©çŸ­40%
   - ä¸ªæ€§åŒ–æœåŠ¡ï¼šåŸºäºæ¶ˆè´¹è®°å½•æ¨èï¼Œè½¬åŒ–ç‡æå‡30%
   - æ•°æ®ï¼šæœåŠ¡æ»¡æ„åº¦ä»7.2åˆ†æå‡è‡³8.5åˆ†ï¼Œå®¢è¯‰ç‡ä¸‹é™60%

3. åœºæ™¯ä½“éªŒï¼ˆç¯å¢ƒå±‚ï¼‰
   - ç¬¬ä¸‰ç©ºé—´æ‰“é€ ï¼šèˆ’é€‚åº§æ¤…+å……ç”µ+WiFiï¼Œåœç•™æ—¶é•¿ä»25åˆ†é’Ÿæå‡è‡³65åˆ†é’Ÿ
   - ç¤¾äº¤å±æ€§ï¼šæ‰“å¡è®¾è®¡+æ°›å›´è¥é€ ï¼Œç¤¾äº¤åª’ä½“æ›å…‰é‡æå‡200%
   - æ•°æ®ï¼šåœºæ™¯åŒ–é—¨åº—å®¢å•ä»·æ¯”æ ‡å‡†åº—é«˜35%ï¼Œè¾¾åˆ°52å…ƒ

4. æ•°å­—ä½“éªŒï¼ˆä¾¿æ·å±‚ï¼‰
   - ä¸€é”®å¤è´­ï¼šå†å²è®¢å•é‡å¤ä¸‹å•ï¼Œä¸‹å•æ—¶é•¿ä»90ç§’ç¼©çŸ­è‡³15ç§’
   - ä¼šå‘˜æƒç›Šï¼šç§¯åˆ†+ä¸“å±ä¼˜æƒ ï¼Œä¼šå‘˜è´¡çŒ®è¥æ”¶å æ¯”65%
   - æ•°æ®ï¼šAppæœˆæ´»ç”¨æˆ·äººå‡æ¶ˆè´¹æ˜¯éä¼šå‘˜çš„2.8å€

ä½“éªŒä¼˜åŒ–ROIï¼šå®¢æˆ·æ»¡æ„åº¦æ¯æå‡10%ï¼Œç”¨æˆ·LTVå¢é•¿28%ï¼Œè·å®¢æˆæœ¬é™ä½35%

================================================================================

ã€ç»´åº¦ä¸‰ï¼šæé«˜è¥æ”¶ã€‘å¢é‡å¸‚åœº+å­˜é‡æ·±æŒ–åŒå¼•æ“

>> å‡è®¾å‰æ
H1ï¼šç°æœ‰å®¢æˆ·çš„æ·±åº¦è¿è¥æ¯”æ‹“æ–°å®¢æ›´é«˜æ•ˆï¼ˆæˆæœ¬å·®5å€ï¼‰
H2ï¼šå®¢å•ä»·æå‡ç©ºé—´15-25%ï¼ˆå½“å‰å®¢å•ä»·32å…ƒ vs ç†è®ºæœ€ä¼˜45å…ƒï¼‰
H3ï¼šä¸‹æ²‰å¸‚åœºè§„æ¨¡æ˜¯ä¸€äºŒçº¿çš„1.8å€ï¼Œä½†æ¸—é€ç‡ä»…ä¸º1/3

>> æ•°æ®æ¨æ¼”
è§‚å¯Ÿï¼šç‘å¹¸è¥æ”¶ä»23äº¿å¢è‡³100äº¿ï¼ˆ4å¹´4å€ï¼‰ï¼Œå¢é•¿æ¥è‡ªè®¢å•é‡3å€+å®¢å•ä»·1.3å€
æ¨æ¼”ï¼šè¥æ”¶å¢é•¿=å®¢æˆ·æ•°Ã—å®¢å•ä»·Ã—å¤è´­é¢‘æ¬¡ï¼Œä¸‰è€…ååŒä¼˜åŒ–
æ´å¯Ÿï¼šç²¾ç»†åŒ–è¿è¥å¯å®ç°è¥æ”¶å¹´å¢é•¿30%+ï¼Œè¿œè¶…è¡Œä¸šå¹³å‡12%

>> è¥æ”¶å¢é•¿äº”å¤§æ æ†

1. å®¢å•ä»·æå‡ï¼ˆå½“å‰32å…ƒ->ç›®æ ‡45å…ƒï¼Œæå‡40%ï¼‰
   - å¥—é¤ç­–ç•¥ï¼šå’–å•¡+è½»é£Ÿç»„åˆï¼Œå¥—é¤é”€å”®å æ¯”ä»18%æå‡è‡³35%
   - å‡æ¯å¼•å¯¼ï¼šä¸­æ¯->å¤§æ¯è½¬åŒ–ç‡ä»25%æå‡è‡³45%ï¼Œå®¢å•ä»·+8å…ƒ
   - æ•°æ®ï¼šå®¢å•ä»·æ¯æå‡1å…ƒï¼Œæœˆè¥æ”¶å¢åŠ 15ä¸‡ï¼ˆå•åº—ï¼‰ï¼Œå¹´åŒ–180ä¸‡

2. å¤è´­é¢‘æ¬¡æå‡ï¼ˆå½“å‰æœˆå‡2.3æ¬¡->ç›®æ ‡3.5æ¬¡ï¼Œæå‡52%ï¼‰
   - ä¼šå‘˜æ—¥æ´»åŠ¨ï¼šæ¯å‘¨ä¸‰ä¼šå‘˜æ—¥ï¼Œå½“æ—¥è®¢å•é‡æå‡80%
   - ä»»åŠ¡æ¿€åŠ±ï¼šè¿ç»­ç­¾åˆ°é€åˆ¸ï¼Œæ¿€æ´»æ²‰é»˜ç”¨æˆ·35%
   - æ•°æ®ï¼šé«˜é¢‘ç”¨æˆ·ï¼ˆæœˆè´­8æ¬¡+ï¼‰è´¡çŒ®è¥æ”¶å æ¯”ä»25%æå‡è‡³42%

3. æ¸ é“æ‰©å±•ï¼ˆçº¿ä¸Šå æ¯”ä»28%->ç›®æ ‡50%ï¼‰
   - å¤–å–å¹³å°ï¼šç¾å›¢+é¥¿äº†ä¹ˆï¼Œå¤–å–è®¢å•å æ¯”35%ï¼Œå¢é‡è¥æ”¶30%
   - ä¼ä¸šå›¢è´­ï¼šBç«¯ä¸šåŠ¡ï¼Œå•ç¬”è®¢å•200-500å…ƒï¼Œæœˆå¢é‡50ä¸‡
   - æ•°æ®ï¼šå¤šæ¸ é“å¸ƒå±€åï¼Œè¥æ”¶å¢é•¿35%ï¼Œæˆæœ¬ä»…å¢é•¿18%

4. å“ç±»å»¶ä¼¸ï¼ˆéå’–å•¡å“ç±»å æ¯”ä»12%->ç›®æ ‡30%ï¼‰
   - è½»é£ŸèŒ¶é¥®ï¼šä¸‹åˆèŒ¶åœºæ™¯ï¼Œå®¢å•ä»·40å…ƒ+ï¼Œæ¯›åˆ©ç‡55%
   - é›¶å”®å•†å“ï¼šå’–å•¡è±†+æ¯å…·ï¼Œå®¢å•ä»·80-150å…ƒï¼Œå¤è´­ç‡25%
   - æ•°æ®ï¼šå“ç±»æ‰©å……åï¼Œåªæ•ˆä»2.8ä¸‡/ã¡æå‡è‡³3.6ä¸‡/ã¡

5. ä¸‹æ²‰å¸‚åœºï¼ˆæ–°å¢ä¸‰å››çº¿åŸå¸‚é—¨åº—ï¼Œè´¡çŒ®å¢é‡è¥æ”¶40%ï¼‰
   - å¸‚åœºè§„æ¨¡ï¼šä¸‰å››çº¿å’–å•¡æ¶ˆè´¹äººç¾¤3.2äº¿ï¼Œå½“å‰æ¸—é€ç‡8%ï¼Œå¢é•¿ç©ºé—´12å€
   - å·®å¼‚åŒ–å®šä»·ï¼šäº§å“çº¿ç®€åŒ–ï¼Œå®¢å•ä»·25å…ƒï¼Œä»ä¿æŒ40%æ¯›åˆ©ç‡
   - æ•°æ®ï¼šä¸‹æ²‰å¸‚åœºå•åº—æŠ•èµ„å›æ”¶æœŸ18ä¸ªæœˆï¼Œvs ä¸€çº¿åŸå¸‚28ä¸ªæœˆ

è¥æ”¶å¢é•¿ROIï¼šç»¼åˆå®æ–½äº”å¤§æ æ†ï¼Œé¢„æœŸè¥æ”¶å¹´å¢é•¿ç‡35-45%ï¼Œåˆ©æ¶¦ç‡æå‡8-12ä¸ªç™¾åˆ†ç‚¹

================================================================================

ã€ä¸‰ç»´ååŒæ•ˆåº”ã€‘æ„å»º"é™æœ¬-ææ•ˆ-å¢æ”¶"é£è½®

æˆæœ¬ä¼˜åŒ–é‡Šæ”¾åˆ©æ¶¦ç©ºé—´ -> åˆ©æ¶¦æŠ•å…¥ä½“éªŒå‡çº§ -> ä½“éªŒæå‡å¸¦åŠ¨å¤è´­å’Œå£ç¢‘ -> è¥æ”¶å¢é•¿æ”¯æ’‘è§„æ¨¡æ‰©å¼  -> è§„æ¨¡æ•ˆåº”è¿›ä¸€æ­¥é™æœ¬

å®è¯æ¡ˆä¾‹ï¼š
- æ˜Ÿå·´å…‹ï¼šä½“éªŒé©±åŠ¨æ¨¡å¼ï¼Œå®¢å•ä»·45å…ƒï¼Œå‡€åˆ©ç‡23%ï¼Œå¹´è¥æ”¶å¢é•¿12%
- ç‘å¹¸ï¼šæ•ˆç‡é©±åŠ¨æ¨¡å¼ï¼Œå®¢å•ä»·25å…ƒï¼Œå‡€åˆ©ç‡18%ï¼Œå¹´è¥æ”¶å¢é•¿40%

æˆ˜ç•¥å¯ç¤ºï¼šæ²¡æœ‰æœ€ä¼˜è§£ï¼Œåªæœ‰æœ€é€‚è§£ã€‚å…³é”®æ˜¯æ ¹æ®è‡ªèº«èµ„æºç¦€èµ‹ï¼Œé€‰æ‹©ä¸»æ”»ç»´åº¦ï¼Œä¸‰ç»´ååŒæ¨è¿›ã€‚`;
                },
                
                generateAnalysis(newsItems) {
                    return `<div style="text-align: center; margin-bottom: 20px; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 8px;">
    <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">åŸºäº ${newsItems.length} æ¡èµ„è®¯çš„ä¸‰å±‚åˆ†æ</div>
    <div style="font-size: 14px; opacity: 0.9;">è¡Œä¸šå±‚é¢ Ã— å¸‚åœºå±‚é¢ Ã— å…¬å¸å±‚é¢ | äºº-è´§-åœºä¸‰ç»´æ¡†æ¶</div>
</div>

<table style="width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
    <thead>
        <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
            <th style="padding: 15px; text-align: center; width: 15%; border: 1px solid #e0e0e0; font-size: 15px;">åˆ†æå±‚é¢</th>
            <th style="padding: 15px; text-align: center; width: 28%; border: 1px solid #e0e0e0; font-size: 15px;">ğŸ‘¤ äººï¼ˆç”¨æˆ·ç»´åº¦ï¼‰</th>
            <th style="padding: 15px; text-align: center; width: 28%; border: 1px solid #e0e0e0; font-size: 15px;">ğŸ“¦ è´§ï¼ˆäº§å“ç»´åº¦ï¼‰</th>
            <th style="padding: 15px; text-align: center; width: 29%; border: 1px solid #e0e0e0; font-size: 15px;">ğŸª åœºï¼ˆæ¸ é“ç»´åº¦ï¼‰</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="padding: 18px; text-align: center; font-weight: 700; font-size: 16px; background: linear-gradient(135deg, #e67e22 0%, #d35400 100%); color: white; border: 1px solid #e0e0e0; vertical-align: middle;">
                <div style="font-size: 28px; margin-bottom: 8px;">ğŸ“ˆ</div>
                <div>è¡Œä¸šå±‚é¢</div>
                <div style="font-size: 12px; font-weight: 400; margin-top: 5px; opacity: 0.95;">å®è§‚è¶‹åŠ¿</div>
            </td>
            <td style="padding: 15px; border: 1px solid #e0e0e0; line-height: 1.8; vertical-align: top;">
                <div style="font-weight: 600; color: #e67e22; margin-bottom: 10px; font-size: 14px;">æ¶ˆè´¹è¶‹åŠ¿</div>
                <div style="font-size: 13px;">
                    â€¢ Zä¸–ä»£ï¼ˆ18-28å²ï¼‰æˆä¸ºå¢é‡å¸‚åœºä¸»åŠ›ï¼Œå æ–°å¢ç”¨æˆ·68%<br>
                    â€¢ æ¶ˆè´¹å‡çº§æ˜æ˜¾ï¼šç²¾å“å’–å•¡éœ€æ±‚å¹´å¢35%ï¼Œå®¢å•ä»·æå‡22%<br>
                    â€¢ å¥åº·æ„è¯†é©±åŠ¨ï¼šæ¤ç‰©å¥¶æ›¿ä»£å“å æ¯”ä»8%å‡è‡³20%<br>
                    â€¢ ä¾¿æ·æ€§éœ€æ±‚ï¼šå³é¥®/å†·èƒå“ç±»å¢é€Ÿå¿«ï¼Œå¹´å¢40%+
                </div>
                <div style="margin-top: 10px; padding: 8px; background: #fff7ed; border-radius: 4px; font-size: 12px; color: #d35400;">
                    <strong>å…³é”®æ´å¯Ÿï¼š</strong>å¹´è½»åŒ–+é«˜ç«¯åŒ–+å¥åº·åŒ–æ˜¯ä¸‰å¤§è¶‹åŠ¿
                </div>
            </td>
            <td style="padding: 15px; border: 1px solid #e0e0e0; line-height: 1.8; vertical-align: top;">
                <div style="font-weight: 600; color: #e67e22; margin-bottom: 10px; font-size: 14px;">äº§å“åˆ›æ–°</div>
                <div style="font-size: 13px;">
                    â€¢ å¯æŒç»­è®¤è¯æˆæ ‡é…ï¼š100%å¯æŒç»­é‡‡è´­ç›®æ ‡æˆè¡Œä¸šå…±è¯†<br>
                    â€¢ æ–°å“ç±»çˆ†å‘ï¼šå†·èƒã€æ°®æ°”å’–å•¡ã€åŠŸèƒ½æ€§å’–å•¡å¢é•¿å¿«<br>
                    â€¢ ä¾›åº”é“¾å‡çº§ï¼šäº§åœ°ç›´é‡‡æ¯”ä¾‹ä»25%æå‡è‡³45%<br>
                    â€¢ å“è´¨ç¨³å®šæ€§ï¼šè‡ªåŠ¨åŒ–è®¾å¤‡æ™®åŠç‡è¾¾65%
                </div>
                <div style="margin-top: 10px; padding: 8px; background: #fff7ed; border-radius: 4px; font-size: 12px; color: #d35400;">
                    <strong>å…³é”®æ´å¯Ÿï¼š</strong>ESG+åˆ›æ–°+ä¾›åº”é“¾æŒæ§æ˜¯æ ¸å¿ƒ
                </div>
            </td>
            <td style="padding: 15px; border: 1px solid #e0e0e0; line-height: 1.8; vertical-align: top;">
                <div style="font-weight: 600; color: #e67e22; margin-bottom: 10px; font-size: 14px;">æ¸ é“å˜é©</div>
                <div style="font-size: 13px;">
                    â€¢ æ•°å­—åŒ–åŠ é€Ÿï¼šçº¿ä¸Šè®¢å•å æ¯”ä»15%è·ƒå‡è‡³35%<br>
                    â€¢ å¿«å–åº—æ¨¡å¼å…´èµ·ï¼šåªæ•ˆ4.2ä¸‡/ã¡ï¼ŒæŠ•èµ„å›æ”¶æœŸ14ä¸ªæœˆ<br>
                    â€¢ ç¬¬ä¸‰ç©ºé—´æŒç»­é‡è¦ï¼šå½±å“40%è´­ä¹°å†³ç­–<br>
                    â€¢ å…¨æ¸ é“èåˆï¼šå…¨æ¸ é“ç”¨æˆ·ä»·å€¼æ˜¯å•æ¸ é“2.3å€
                </div>
                <div style="margin-top: 10px; padding: 8px; background: #fff7ed; border-radius: 4px; font-size: 12px; color: #d35400;">
                    <strong>å…³é”®æ´å¯Ÿï¼š</strong>æ•ˆç‡å‹+ä½“éªŒå‹åŒè½®é©±åŠ¨
                </div>
            </td>
        </tr>
        <tr>
            <td style="padding: 18px; text-align: center; font-weight: 700; font-size: 16px; background: linear-gradient(135deg, #27ae60 0%, #229954 100%); color: white; border: 1px solid #e0e0e0; vertical-align: middle;">
                <div style="font-size: 28px; margin-bottom: 8px;">ğŸŒ</div>
                <div>å¸‚åœºå±‚é¢</div>
                <div style="font-size: 12px; font-weight: 400; margin-top: 5px; opacity: 0.95;">ä¾›éœ€å˜åŒ–</div>
            </td>
            <td style="padding: 15px; border: 1px solid #e0e0e0; line-height: 1.8; vertical-align: top;">
                <div style="font-weight: 600; color: #27ae60; margin-bottom: 10px; font-size: 14px;">ç”¨æˆ·åˆ†å±‚</div>
                <div style="font-size: 13px;">
                    â€¢ é«˜ä»·å€¼ç”¨æˆ·ï¼ˆå æ¯”25%ï¼‰è´¡çŒ®è¥æ”¶55%ï¼ŒLTVè¾¾8500å…ƒ<br>
                    â€¢ æˆé•¿å‹ç”¨æˆ·ï¼ˆå æ¯”35%ï¼‰æ˜¯è½¬åŒ–é‡ç‚¹ï¼Œ30%å¯å‡çº§<br>
                    â€¢ ä¼šå‘˜ç”¨æˆ·å¤è´­ç‡68% vs éä¼šå‘˜22%ï¼Œå·®å¼‚æ˜¾è‘—<br>
                    â€¢ ç¤¾äº¤è£‚å˜è·å®¢æˆæœ¬8å…ƒ vs ä¼ ç»Ÿå¹¿å‘Š35å…ƒ
                </div>
                <div style="margin-top: 10px; padding: 8px; background: #f0fff4; border-radius: 4px; font-size: 12px; color: #229954;">
                    <strong>å…³é”®æ´å¯Ÿï¼š</strong>ç²¾ç»†åŒ–åˆ†å±‚è¿è¥æ˜¯å…³é”®
                </div>
            </td>
            <td style="padding: 15px; border: 1px solid #e0e0e0; line-height: 1.8; vertical-align: top;">
                <div style="font-weight: 600; color: #27ae60; margin-bottom: 10px; font-size: 14px;">ä¾›åº”é“¾å‹åŠ›</div>
                <div style="font-size: 13px;">
                    â€¢ åŸæ–™ä»·æ ¼æ³¢åŠ¨ï¼šå’–å•¡è±†ä»·æ ¼å¹´æ³¢åŠ¨æ­£è´Ÿ18%<br>
                    â€¢ åŠ³åŠ¨åŠ›çŸ­ç¼ºï¼šåç–«æƒ…æ—¶ä»£æ‹›å·¥éš¾ï¼ŒäººåŠ›æˆæœ¬å¹´å¢12%<br>
                    â€¢ æ°”å€™å½±å“ï¼šæç«¯å¤©æ°”å½±å“äº§é‡ï¼Œå·´è¥¿å‡äº§15%<br>
                    â€¢ å¯¹å†²ç­–ç•¥ï¼šæœŸè´§é”å®š+ç›´é‡‡+å¤šäº§åŒºåˆ†æ•£é£é™©
                </div>
                <div style="margin-top: 10px; padding: 8px; background: #f0fff4; border-radius: 4px; font-size: 12px; color: #229954;">
                    <strong>å…³é”®æ´å¯Ÿï¼š</strong>æˆæœ¬æ§åˆ¶+æŠ—é£é™©èƒ½åŠ›æ˜¯æŒ‘æˆ˜
                </div>
            </td>
            <td style="padding: 15px; border: 1px solid #e0e0e0; line-height: 1.8; vertical-align: top;">
                <div style="font-weight: 600; color: #27ae60; margin-bottom: 10px; font-size: 14px;">æ¸ é“ç«äº‰</div>
                <div style="font-size: 13px;">
                    â€¢ å¤–å–å¹³å°ä½£é‡‘18-22%ï¼Œå‹ç¼©åˆ©æ¶¦ç©ºé—´<br>
                    â€¢ ç§Ÿé‡‘æˆæœ¬å æ¯”25-30%ï¼Œæ ¸å¿ƒå•†åœˆå‹åŠ›å¤§<br>
                    â€¢ çº¿ä¸Šè·å®¢æˆæœ¬ä¸Šå‡ï¼šä»28å…ƒæ¶¨è‡³42å…ƒï¼ˆæµé‡è´µï¼‰<br>
                    â€¢ ç§åŸŸæµé‡æˆè¶‹åŠ¿ï¼šApp+å°ç¨‹åº+ç¤¾ç¾¤é™æœ¬å¢æ•ˆ
                </div>
                <div style="margin-top: 10px; padding: 8px; background: #f0fff4; border-radius: 4px; font-size: 12px; color: #229954;">
                    <strong>å…³é”®æ´å¯Ÿï¼š</strong>é™æœ¬å¢æ•ˆ+ç§åŸŸè¿è¥æ˜¯å‡ºè·¯
                </div>
            </td>
        </tr>
        <tr>
            <td style="padding: 18px; text-align: center; font-weight: 700; font-size: 16px; background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); color: white; border: 1px solid #e0e0e0; vertical-align: middle;">
                <div style="font-size: 28px; margin-bottom: 8px;">ğŸ¢</div>
                <div>å…¬å¸å±‚é¢</div>
                <div style="font-size: 12px; font-weight: 400; margin-top: 5px; opacity: 0.95;">ç«äº‰ç­–ç•¥</div>
            </td>
            <td style="padding: 15px; border: 1px solid #e0e0e0; line-height: 1.8; vertical-align: top;">
                <div style="font-weight: 600; color: #3498db; margin-bottom: 10px; font-size: 14px;">ç”¨æˆ·è¿è¥ç­–ç•¥</div>
                <div style="font-size: 13px;">
                    <strong>æ˜Ÿå·´å…‹ï¼š</strong>é«˜ç«¯ç”¨æˆ·+ç¬¬ä¸‰ç©ºé—´ï¼Œå®¢å•ä»·55å…ƒï¼ŒNPS 85åˆ†<br>
                    <strong>Luckinï¼š</strong>å¹´è½»ç™½é¢†+æ€§ä»·æ¯”ï¼Œè·å®¢æˆæœ¬18å…ƒï¼Œå¢é•¿40%<br>
                    <strong>è¡ŒåŠ¨å»ºè®®ï¼š</strong>æ„å»ºä¸‰çº§ä¼šå‘˜ä½“ç³»ï¼ŒLTV/CACä»5å‡è‡³8+<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;â€¢ é»‘é‡‘å¡ï¼ˆé«˜ä»·å€¼ï¼‰ï¼šä¸“å±æƒç›Š<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;â€¢ ç§åŸŸè¿è¥ï¼šä¼ä¸šå¾®ä¿¡+ç¤¾ç¾¤
                </div>
            </td>
            <td style="padding: 15px; border: 1px solid #e0e0e0; line-height: 1.8; vertical-align: top;">
                <div style="font-weight: 600; color: #3498db; margin-bottom: 10px; font-size: 14px;">äº§å“å·®å¼‚åŒ–ç­–ç•¥</div>
                <div style="font-size: 13px;">
                    <strong>Nestleï¼š</strong>æŠ•èµ„10äº¿ç¾å…ƒå¯æŒç»­é‡‡è´­ï¼ŒESGé¢†å…ˆ<br>
                    <strong>Luckinï¼š</strong>ç”Ÿæ¤°æ‹¿é“çˆ†å“ï¼Œå¹´é”€2.5äº¿æ¯ï¼Œå¸¦åŠ¨å¢é•¿<br>
                    <strong>è¡ŒåŠ¨å»ºè®®ï¼š</strong>çˆ†å“60%+æ–°å“25%+ç²¾å“15%<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;â€¢ ç›´é‡‡æ¯”ä¾‹æå‡è‡³40%+<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;â€¢ æ–°å“æˆåŠŸç‡ä»58%å‡è‡³75%
                </div>
            </td>
            <td style="padding: 15px; border: 1px solid #e0e0e0; line-height: 1.8; vertical-align: top;">
                <div style="font-weight: 600; color: #3498db; margin-bottom: 10px; font-size: 14px;">æ¸ é“æ‰©å¼ ç­–ç•¥</div>
                <div style="font-size: 13px;">
                    <strong>Luckinï¼š</strong>15000+é—¨åº—ï¼Œå¿«å–åº—ä¸ºä¸»ï¼Œå›æœ¬æœŸ14ä¸ªæœˆ<br>
                    <strong>æ˜Ÿå·´å…‹ï¼š</strong>æ——èˆ°åº—+æ ‡å‡†åº—ï¼Œåªæ•ˆ3.8ä¸‡/ã¡ï¼Œä½“éªŒä¼˜å…ˆ<br>
                    <strong>è¡ŒåŠ¨å»ºè®®ï¼š</strong>å¿«å–åº—æ‰©å¼ +çº¿ä¸Šçº¿ä¸‹èåˆ<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;â€¢ å¿«å–åº—å æ¯”æå‡è‡³40%<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;â€¢ çº¿ä¸Šè®¢å•å æ¯”å‡è‡³55%
                </div>
            </td>
        </tr>
    </tbody>
</table>`;
                },
                
                generateRecommendations() {
                    // ç®€åŒ–ç‰ˆï¼šå…³é”®å¯ç¤ºå·²åœ¨HTMLä¸­å›ºå®šæ˜¾ç¤º
                    return '';
                },
                
                async generateReport_OLD_BACKUP() {
                    return `<div style="padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 8px; margin-bottom: 20px; text-align: center;">
    <div style="font-size: 17px; font-weight: 600;">åŸºäºèµ„è®¯åˆ†æçš„æˆ˜ç•¥ä¼˜åŒ–è·¯å¾„</div>
    <div style="font-size: 14px; opacity: 0.9; margin-top: 5px;">è¥é”€å¢é•¿ Ã— ä¾›åº”é“¾ Ã— é—¨åº—è¿è¥</div>
</div>

<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 20px;">
    <!-- è¥é”€å¢é•¿ -->
    <div style="background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 18px; text-align: center;">
            <div style="font-size: 36px; margin-bottom: 8px;">ğŸ“ˆ</div>
            <div style="font-size: 18px; font-weight: 600;">è¥é”€å¢é•¿</div>
            <div style="font-size: 13px; opacity: 0.9; margin-top: 5px;">è·å®¢ + ç•™å­˜ + è½¬åŒ– + å¤è´­</div>
        </div>
        <div style="padding: 20px;">
            <div style="background: #f0f7ff; padding: 12px; border-radius: 6px; margin-bottom: 15px; border-left: 4px solid #667eea;">
                <div style="font-weight: 600; color: #2c3e50; margin-bottom: 8px; font-size: 14px;">åŸºäºèµ„è®¯çš„æ ¸å¿ƒæ´å¯Ÿ</div>
                <div style="font-size: 13px; color: #555; line-height: 1.7;">
                    â€¢ 25%é«˜ä»·å€¼ç”¨æˆ·è´¡çŒ®55%è¥æ”¶ï¼Œéœ€ç²¾ç»†åŒ–è¿è¥<br>
                    â€¢ ä¼šå‘˜å¤è´­ç‡68% vs éä¼šå‘˜22%ï¼Œå·®å¼‚æ˜¾è‘—<br>
                    â€¢ ç¤¾äº¤è£‚å˜è·å®¢æˆæœ¬8å…ƒï¼Œæ˜¯ä¼ ç»Ÿå¹¿å‘Šçš„1/4<br>
                    â€¢ Zä¸–ä»£å æ–°å¢ç”¨æˆ·68%ï¼Œéœ€é’ˆå¯¹æ€§è¥é”€
                </div>
            </div>
            <div style="background: #fff9e6; padding: 12px; border-radius: 6px; margin-bottom: 15px;">
                <div style="font-weight: 600; color: #2c3e50; margin-bottom: 10px; font-size: 14px;">ä¼˜åŒ–è·¯å¾„è§„åˆ’</div>
                <div style="font-size: 13px; color: #555; line-height: 1.8;">
                    <strong>è·¯å¾„1ï¼šä¼šå‘˜ä½“ç³»æ·±åº¦è¿è¥ï¼ˆæå‡ç•™å­˜ï¼‰</strong><br>
                    Â· ç¬¬1æ­¥ï¼šæ„å»ºä¸‰çº§ä¼šå‘˜ä½“ç³»ï¼ˆé»‘é‡‘/é‡‘/é“¶å¡ï¼‰<br>
                    Â· ç¬¬2æ­¥ï¼šå·®å¼‚åŒ–æƒç›Šè®¾è®¡ï¼ˆä¸“å±æŠ˜æ‰£+ç”Ÿæ—¥ç‰¹æƒï¼‰<br>
                    Â· ç¬¬3æ­¥ï¼šRFMæ¨¡å‹ç”¨æˆ·åˆ†å±‚ï¼ˆ8ä¸ªå±‚çº§ç²¾å‡†è¿è¥ï¼‰<br>
                    Â· é¢„æœŸï¼šé¦–æœˆç•™å­˜ä»45%æå‡è‡³65%<br><br>
                    
                    <strong>è·¯å¾„2ï¼šç§åŸŸæµé‡æ± å»ºè®¾ï¼ˆé™ä½è·å®¢æˆæœ¬ï¼‰</strong><br>
                    Â· ç¬¬1æ­¥ï¼šä¼ä¸šå¾®ä¿¡+ç¤¾ç¾¤çŸ©é˜µæ­å»º<br>
                    Â· ç¬¬2æ­¥ï¼šå…¬åŸŸå¼•æµç§åŸŸï¼ˆæ‰«ç åŠ ç²‰+ç¦åˆ©å¸å¼•ï¼‰<br>
                    Â· ç¬¬3æ­¥ï¼šæœ‹å‹åœˆ+ç¤¾ç¾¤æ—¥å¸¸è§¦è¾¾è¿è¥<br>
                    Â· é¢„æœŸï¼šè·å®¢æˆæœ¬ä»35å…ƒé™è‡³8å…ƒ<br><br>
                    
                    <strong>è·¯å¾„3ï¼šæ™ºèƒ½è¥é”€è‡ªåŠ¨åŒ–ï¼ˆæå‡è½¬åŒ–ï¼‰</strong><br>
                    Â· ç¬¬1æ­¥ï¼šç”¨æˆ·æ•°æ®ä¸­å°ï¼ˆCDPï¼‰å»ºè®¾<br>
                    Â· ç¬¬2æ­¥ï¼šä¸ªæ€§åŒ–æ¨èå¼•æ“ï¼ˆAIç®—æ³•ï¼‰<br>
                    Â· ç¬¬3æ­¥ï¼šè‡ªåŠ¨åŒ–è¥é”€è§¦å‘ï¼ˆ10+åœºæ™¯ï¼‰<br>
                    Â· é¢„æœŸï¼šè½¬åŒ–ç‡æå‡40%ï¼Œå¤è´­å‘¨æœŸä»21å¤©é™è‡³12å¤©<br><br>
                    
                    <strong>å…³é”®æŒ‡æ ‡ï¼š</strong><br>
                    Â· LTV/CACï¼šä»5æå‡è‡³8+<br>
                    Â· ä¼šå‘˜å æ¯”ï¼šä»30%æå‡è‡³60%<br>
                    Â· ç§åŸŸGMVå æ¯”ï¼šä»10%æå‡è‡³35%
                </div>
            </div>
            <div style="background: #f0fff4; padding: 12px; border-radius: 6px; border-left: 4px solid #27ae60;">
                <div style="font-weight: 600; color: #2c3e50; margin-bottom: 10px; font-size: 14px;">å®æ–½æ—¶é—´è¡¨</div>
                <div style="font-size: 13px; color: #555; line-height: 1.8;">
                    <strong>0-3ä¸ªæœˆï¼š</strong>ä¼šå‘˜ç³»ç»Ÿä¸Šçº¿+é¦–æ‰¹ç§åŸŸç”¨æˆ·1ä¸‡<br>
                    <strong>3-6ä¸ªæœˆï¼š</strong>CDPæ•°æ®ä¸­å°å»ºè®¾+æ ‡ç­¾ä½“ç³»<br>
                    <strong>6-12ä¸ªæœˆï¼š</strong>AIè¥é”€å¼•æ“+è‡ªåŠ¨åŒ–è§¦å‘<br>
                    <strong>æŠ•èµ„ï¼š</strong>300-400ä¸‡ | <strong>å›æŠ¥ï¼š</strong>è¥æ”¶å¢é•¿25-30%
                </div>
            </div>
        </div>
    </div>

    <!-- ä¾›åº”é“¾ -->
    <div style="background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <div style="background: linear-gradient(135deg, #e67e22 0%, #d35400 100%); color: white; padding: 18px; text-align: center;">
            <div style="font-size: 36px; margin-bottom: 8px;">ğŸ”—</div>
            <div style="font-size: 18px; font-weight: 600;">ä¾›åº”é“¾</div>
            <div style="font-size: 13px; opacity: 0.9; margin-top: 5px;">é‡‡è´­ + åº“å­˜ + å“æ§ + æˆæœ¬</div>
        </div>
        <div style="padding: 20px;">
            <div style="background: #f0f7ff; padding: 12px; border-radius: 6px; margin-bottom: 15px; border-left: 4px solid #667eea;">
                <div style="font-weight: 600; color: #2c3e50; margin-bottom: 8px; font-size: 14px;">åŸºäºèµ„è®¯çš„æ ¸å¿ƒæ´å¯Ÿ</div>
                <div style="font-size: 13px; color: #555; line-height: 1.7;">
                    â€¢ ä¾›åº”é“¾ç›´é‡‡å¯é™ä½æˆæœ¬æ³¢åŠ¨67%ï¼ˆä»æ­£è´Ÿ18%é™è‡³æ­£è´Ÿ6%ï¼‰<br>
                    â€¢ åŸæ–™æˆæœ¬å æ€»æˆæœ¬35-40%ï¼Œæ˜¯æœ€å¤§æˆæœ¬é¡¹<br>
                    â€¢ åº“å­˜å‘¨è½¬å¤©æ•°ä»45å¤©å¯é™è‡³28å¤©ï¼Œé‡Šæ”¾ç°é‡‘æµ<br>
                    â€¢ å¯æŒç»­è®¤è¯æˆè¡Œä¸šæ ‡é…ï¼Œå½±å“å“ç‰Œç«äº‰åŠ›
                </div>
            </div>
            <div style="background: #fff9e6; padding: 12px; border-radius: 6px; margin-bottom: 15px;">
                <div style="font-weight: 600; color: #2c3e50; margin-bottom: 10px; font-size: 14px;">ä¼˜åŒ–è·¯å¾„è§„åˆ’</div>
                <div style="font-size: 13px; color: #555; line-height: 1.8;">
                    <strong>è·¯å¾„1ï¼šäº§åœ°ç›´é‡‡ä½“ç³»å»ºè®¾ï¼ˆé™ä½æˆæœ¬ï¼‰</strong><br>
                    Â· ç¬¬1æ­¥ï¼šæ ¸å¿ƒäº§åŒºè€ƒå¯Ÿï¼ˆäº‘å—/åŸƒå¡/å“¥ä¼¦æ¯”äºšï¼‰<br>
                    Â· ç¬¬2æ­¥ï¼šå»ºç«‹åˆä½œåŸºåœ°ï¼ˆ3-5ä¸ªäº§åœ°ç›´é‡‡åŸºåœ°ï¼‰<br>
                    Â· ç¬¬3æ­¥ï¼šç›´é‡‡æ¯”ä¾‹ä»25%æå‡è‡³45%<br>
                    Â· é¢„æœŸï¼šåŸæ–™æˆæœ¬é™ä½12-15%ï¼Œæ¯›åˆ©ç‡æå‡3-5ç‚¹<br><br>
                    
                    <strong>è·¯å¾„2ï¼šæ™ºèƒ½åº“å­˜ç®¡ç†ï¼ˆæå‡å‘¨è½¬ï¼‰</strong><br>
                    Â· ç¬¬1æ­¥ï¼šAIéœ€æ±‚é¢„æµ‹ç³»ç»Ÿï¼ˆLSTMæ—¶é—´åºåˆ—ç®—æ³•ï¼‰<br>
                    Â· ç¬¬2æ­¥ï¼šå®‰å…¨åº“å­˜æ¨¡å‹ä¼˜åŒ–ï¼ˆåŠ¨æ€è°ƒæ•´è¡¥è´§ç‚¹ï¼‰<br>
                    Â· ç¬¬3æ­¥ï¼šåŒºåŸŸä»“+å‰ç½®ä»“ç½‘ç»œï¼ˆç¼©çŸ­é…é€è·ç¦»ï¼‰<br>
                    Â· é¢„æœŸï¼šåº“å­˜å‘¨è½¬ä»45å¤©é™è‡³28å¤©ï¼ŒæŸè€—ç‡ä»8%é™è‡³3%<br><br>
                    
                    <strong>è·¯å¾„3ï¼šä¾›åº”å•†æ•°å­—åŒ–ç®¡ç†ï¼ˆæå‡æ•ˆç‡ï¼‰</strong><br>
                    Â· ç¬¬1æ­¥ï¼šä¾›åº”å•†ç®¡ç†ç³»ç»Ÿï¼ˆè¯„çº§+åˆåŒ+å¯¹è´¦ï¼‰<br>
                    Â· ç¬¬2æ­¥ï¼šåœ¨çº¿è¯¢ä»·æ¯”ä»·å¹³å°ï¼ˆé€æ˜åŒ–é‡‡è´­ï¼‰<br>
                    Â· ç¬¬3æ­¥ï¼šæœŸè´§å¯¹å†²å·¥å…·ï¼ˆé”å®šæœªæ¥6-12ä¸ªæœˆä»·æ ¼ï¼‰<br>
                    Â· é¢„æœŸï¼šé‡‡è´­æ•ˆç‡æå‡40%ï¼Œä»·æ ¼æ³¢åŠ¨ä»æ­£è´Ÿ18%é™è‡³æ­£è´Ÿ6%<br><br>
                    
                    <strong>å…³é”®æŒ‡æ ‡ï¼š</strong><br>
                    Â· ç›´é‡‡æ¯”ä¾‹ï¼š25% â†’ 45%<br>
                    Â· åº“å­˜å‘¨è½¬å¤©æ•°ï¼š45å¤© â†’ 28å¤©<br>
                    Â· æˆæœ¬æ³¢åŠ¨ç‡ï¼šæ­£è´Ÿ18% â†’ æ­£è´Ÿ6%<br>
                    Â· æ¯›åˆ©ç‡æå‡ï¼š3-5ä¸ªç‚¹
                </div>
            </div>
            <div style="background: #f0fff4; padding: 12px; border-radius: 6px; border-left: 4px solid #27ae60;">
                <div style="font-weight: 600; color: #2c3e50; margin-bottom: 10px; font-size: 14px;">å®æ–½æ—¶é—´è¡¨</div>
                <div style="font-size: 13px; color: #555; line-height: 1.8;">
                    <strong>0-6ä¸ªæœˆï¼š</strong>ä¾›åº”å•†ç³»ç»Ÿä¸Šçº¿+é¦–ä¸ªç›´é‡‡åŸºåœ°å»ºç«‹<br>
                    <strong>6-12ä¸ªæœˆï¼š</strong>AIåº“å­˜é¢„æµ‹ç³»ç»Ÿ+3ä¸ªç›´é‡‡åŸºåœ°<br>
                    <strong>12-18ä¸ªæœˆï¼š</strong>æœŸè´§å¯¹å†²å·¥å…·+5ä¸ªç›´é‡‡åŸºåœ°å…¨è¦†ç›–<br>
                    <strong>æŠ•èµ„ï¼š</strong>350-450ä¸‡ | <strong>å›æŠ¥ï¼š</strong>å¹´èŠ‚çœæˆæœ¬2000-3000ä¸‡
                </div>
            </div>
        </div>
    </div>

    <!-- é—¨åº—è¿è¥ -->
    <div style="background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <div style="background: linear-gradient(135deg, #27ae60 0%, #229954 100%); color: white; padding: 18px; text-align: center;">
            <div style="font-size: 36px; margin-bottom: 8px;">ğŸª</div>
            <div style="font-size: 18px; font-weight: 600;">é—¨åº—è¿è¥</div>
            <div style="font-size: 13px; opacity: 0.9; margin-top: 5px;">é€‰å€ + æ‰©å¼  + æ•ˆç‡ + ä½“éªŒ</div>
        </div>
        <div style="padding: 20px;">
            <div style="background: #f0f7ff; padding: 12px; border-radius: 6px; margin-bottom: 15px; border-left: 4px solid #667eea;">
                <div style="font-weight: 600; color: #2c3e50; margin-bottom: 8px; font-size: 14px;">åŸºäºèµ„è®¯çš„æ ¸å¿ƒæ´å¯Ÿ</div>
                <div style="font-size: 13px; color: #555; line-height: 1.7;">
                    â€¢ å¿«å–åº—åªæ•ˆ4.2ä¸‡/ã¡ï¼ŒæŠ•èµ„å›æ”¶æœŸä»…14ä¸ªæœˆ<br>
                    â€¢ å…¨æ¸ é“ç”¨æˆ·ä»·å€¼æ˜¯å•æ¸ é“çš„2.3å€<br>
                    â€¢ çº¿ä¸Šè®¢å•å æ¯”35%ï¼Œæå‡ç©ºé—´å¤§ï¼ˆç›®æ ‡55%ï¼‰<br>
                    â€¢ æ•°å­—åŒ–å¯æå‡è¿è¥æ•ˆç‡30%ï¼Œé™ä½äººåŠ›æˆæœ¬
                </div>
            </div>
            <div style="background: #fff9e6; padding: 12px; border-radius: 6px; margin-bottom: 15px;">
                <div style="font-weight: 600; color: #2c3e50; margin-bottom: 10px; font-size: 14px;">ä¼˜åŒ–è·¯å¾„è§„åˆ’</div>
                <div style="font-size: 13px; color: #555; line-height: 1.8;">
                    <strong>è·¯å¾„1ï¼šå¿«å–åº—æ¨¡å¼è§„æ¨¡åŒ–æ‰©å¼ ï¼ˆæå‡åªæ•ˆï¼‰</strong><br>
                    Â· ç¬¬1æ­¥ï¼šAIé€‰å€æ¨¡å‹å»ºç«‹ï¼ˆLBSæ•°æ®+äººæµ+ç«å“åˆ†æï¼‰<br>
                    Â· ç¬¬2æ­¥ï¼šé¦–æ‰¹50å®¶è¯•ç‚¹éªŒè¯ï¼ˆå†™å­—æ¥¼/åœ°é“ç«™ï¼‰<br>
                    Â· ç¬¬3æ­¥ï¼š18ä¸ªæœˆæ‰©å¼ è‡³300å®¶ï¼ˆå æ¯”ä»25%å‡è‡³40%ï¼‰<br>
                    Â· é¢„æœŸï¼šå¿«å–åº—åªæ•ˆ4.2ä¸‡/ã¡ï¼Œæ•´ä½“åªæ•ˆæå‡25%<br><br>
                    
                    <strong>è·¯å¾„2ï¼šé—¨åº—æ•°å­—åŒ–å‡çº§ï¼ˆæå‡æ•ˆç‡ï¼‰</strong><br>
                    Â· ç¬¬1æ­¥ï¼šæ™ºèƒ½POSç³»ç»Ÿå…¨è¦†ç›–ï¼ˆæ”¶é“¶+ä¼šå‘˜è¯†åˆ«ï¼‰<br>
                    Â· ç¬¬2æ­¥ï¼šAIæ™ºèƒ½æ’ç­ï¼ˆæ ¹æ®å®¢æµé¢„æµ‹ä¼˜åŒ–äººå‘˜é…ç½®ï¼‰<br>
                    Â· ç¬¬3æ­¥ï¼šç§»åŠ¨ç‚¹å•æ™®åŠï¼ˆç­‰å¾…æ—¶é•¿ä»8åˆ†é’Ÿé™è‡³2åˆ†é’Ÿï¼‰<br>
                    Â· é¢„æœŸï¼šäººæ•ˆæå‡35%ï¼ŒäººåŠ›æˆæœ¬å æ¯”ä»30%é™è‡³22%<br><br>
                    
                    <strong>è·¯å¾„3ï¼šå…¨æ¸ é“èåˆï¼ˆæå‡ç”¨æˆ·ä»·å€¼ï¼‰</strong><br>
                    Â· ç¬¬1æ­¥ï¼šApp/å°ç¨‹åºä¸Šçº¿ï¼ˆçº¿ä¸Šç‚¹å•åˆ°åº—å³å–ï¼‰<br>
                    Â· ç¬¬2æ­¥ï¼šä¼šå‘˜ä½“ç³»æ‰“é€šï¼ˆçº¿ä¸Šçº¿ä¸‹ç§¯åˆ†äº’é€šï¼‰<br>
                    Â· ç¬¬3æ­¥ï¼šå…¨æ¸ é“è®¢å•ä¸­å°ï¼ˆç»Ÿä¸€è®¢å•ç®¡ç†+æ™ºèƒ½å±¥çº¦ï¼‰<br>
                    Â· é¢„æœŸï¼šçº¿ä¸Šè®¢å•å æ¯”ä»35%å‡è‡³55%ï¼Œå…¨æ¸ é“ç”¨æˆ·å æ¯”ä»18%å‡è‡³35%<br><br>
                    
                    <strong>å…³é”®æŒ‡æ ‡ï¼š</strong><br>
                    Â· å¿«å–åº—å æ¯”ï¼š25% â†’ 40%<br>
                    Â· çº¿ä¸Šè®¢å•å æ¯”ï¼š35% â†’ 55%<br>
                    Â· æ•´ä½“åªæ•ˆæå‡ï¼š25%<br>
                    Â· äººæ•ˆæå‡ï¼š35%
                </div>
            </div>
            <div style="background: #f0fff4; padding: 12px; border-radius: 6px; border-left: 4px solid #27ae60;">
                <div style="font-weight: 600; color: #2c3e50; margin-bottom: 10px; font-size: 14px;">å®æ–½æ—¶é—´è¡¨</div>
                <div style="font-size: 13px; color: #555; line-height: 1.8;">
                    <strong>0-6ä¸ªæœˆï¼š</strong>POSç³»ç»Ÿéƒ¨ç½²+Appä¸Šçº¿+50å®¶å¿«å–åº—è¯•ç‚¹<br>
                    <strong>6-12ä¸ªæœˆï¼š</strong>è®¢å•ä¸­å°+AIæ’ç­+æ–°å¼€150å®¶å¿«å–åº—<br>
                    <strong>12-18ä¸ªæœˆï¼š</strong>å…¨æ¸ é“èåˆ+AIé€‰å€+ç´¯è®¡300å®¶å¿«å–åº—<br>
                    <strong>æŠ•èµ„ï¼š</strong>å•åº—70ä¸‡Ã—300å®¶=2.1äº¿ï¼ˆé—¨åº—ï¼‰+ç³»ç»Ÿ400ä¸‡<br>
                    <strong>å›æŠ¥ï¼š</strong>å•åº—14ä¸ªæœˆå›æœ¬ï¼Œæ•´ä½“è¥æ”¶å¢é•¿50%+
                </div>
            </div>
        </div>
    </div>
</div>

<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px;">
    <div style="font-weight: 600; margin-bottom: 15px; font-size: 16px; text-align: center; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 10px;">
        ä¸‰ç»´ååŒä¼˜åŒ–æ€»ç»“
    </div>
    
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 20px;">
        <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 6px;">
            <div style="font-size: 24px; margin-bottom: 8px;">ğŸ“ˆ</div>
            <div style="font-weight: 600; margin-bottom: 10px; font-size: 14px;">è¥é”€å¢é•¿ç»´åº¦</div>
            <div style="font-size: 13px; line-height: 1.7;">
                <strong>æ ¸å¿ƒç­–ç•¥ï¼š</strong>ä¼šå‘˜+ç§åŸŸ+æ™ºèƒ½è¥é”€<br><br>
                <strong>å…³é”®æŒ‡æ ‡ï¼š</strong><br>
                Â· è·å®¢æˆæœ¬ï¼š35å…ƒ â†’ 8å…ƒ<br>
                Â· ç•™å­˜ç‡ï¼š45% â†’ 65%<br>
                Â· LTV/CACï¼š5 â†’ 8<br><br>
                <strong>æŠ•èµ„ï¼š</strong>300-400ä¸‡<br>
                <strong>è´¡çŒ®ï¼š</strong>è¥æ”¶å¢é•¿25-30%
            </div>
        </div>
        <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 6px;">
            <div style="font-size: 24px; margin-bottom: 8px;">ğŸ”—</div>
            <div style="font-weight: 600; margin-bottom: 10px; font-size: 14px;">ä¾›åº”é“¾ç»´åº¦</div>
            <div style="font-size: 13px; line-height: 1.7;">
                <strong>æ ¸å¿ƒç­–ç•¥ï¼š</strong>ç›´é‡‡+æ™ºèƒ½åº“å­˜+æ•°å­—åŒ–<br><br>
                <strong>å…³é”®æŒ‡æ ‡ï¼š</strong><br>
                Â· ç›´é‡‡æ¯”ä¾‹ï¼š25% â†’ 45%<br>
                Â· åº“å­˜å‘¨è½¬ï¼š45å¤© â†’ 28å¤©<br>
                Â· æˆæœ¬æ³¢åŠ¨ï¼šæ­£è´Ÿ18% â†’ æ­£è´Ÿ6%<br><br>
                <strong>æŠ•èµ„ï¼š</strong>350-450ä¸‡<br>
                <strong>è´¡çŒ®ï¼š</strong>å¹´èŠ‚çœ2000-3000ä¸‡
            </div>
        </div>
        <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 6px;">
            <div style="font-size: 24px; margin-bottom: 8px;">ğŸª</div>
            <div style="font-weight: 600; margin-bottom: 10px; font-size: 14px;">é—¨åº—è¿è¥ç»´åº¦</div>
            <div style="font-size: 13px; line-height: 1.7;">
                <strong>æ ¸å¿ƒç­–ç•¥ï¼š</strong>å¿«å–åº—+æ•°å­—åŒ–+å…¨æ¸ é“<br><br>
                <strong>å…³é”®æŒ‡æ ‡ï¼š</strong><br>
                Â· å¿«å–åº—å æ¯”ï¼š25% â†’ 40%<br>
                Â· çº¿ä¸Šè®¢å•ï¼š35% â†’ 55%<br>
                Â· åªæ•ˆæå‡ï¼š25%<br><br>
                <strong>æŠ•èµ„ï¼š</strong>2.1äº¿ï¼ˆé—¨åº—ï¼‰+400ä¸‡ï¼ˆç³»ç»Ÿï¼‰<br>
                <strong>è´¡çŒ®ï¼š</strong>è¥æ”¶å¢é•¿50%+
            </div>
        </div>
    </div>
    
    <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
        <div style="font-weight: 600; margin-bottom: 10px; font-size: 14px;">å®æ–½è·¯çº¿å›¾ï¼ˆ18ä¸ªæœˆï¼‰</div>
        <div style="font-size: 13px; line-height: 1.8;">
            <strong>ç¬¬ä¸€é˜¶æ®µï¼ˆ0-6ä¸ªæœˆï¼‰ï¼š</strong>åŸºç¡€æ­å»º<br>
            Â· è¥é”€ï¼šä¼šå‘˜ç³»ç»Ÿä¸Šçº¿ + ç§åŸŸå¯åŠ¨ï¼ˆ1ä¸‡ç”¨æˆ·ï¼‰<br>
            Â· ä¾›åº”é“¾ï¼šä¾›åº”å•†ç³»ç»Ÿ + é¦–ä¸ªç›´é‡‡åŸºåœ°<br>
            Â· é—¨åº—ï¼šPOSéƒ¨ç½² + Appä¸Šçº¿ + 50å®¶å¿«å–åº—è¯•ç‚¹<br><br>
            
            <strong>ç¬¬äºŒé˜¶æ®µï¼ˆ6-12ä¸ªæœˆï¼‰ï¼š</strong>æ·±åŒ–ä¼˜åŒ–<br>
            Â· è¥é”€ï¼šæ•°æ®ä¸­å°ï¼ˆCDPï¼‰+ AIæ¨èå¼•æ“<br>
            Â· ä¾›åº”é“¾ï¼šæ™ºèƒ½åº“å­˜ç³»ç»Ÿ + 3ä¸ªç›´é‡‡åŸºåœ°<br>
            Â· é—¨åº—ï¼šè®¢å•ä¸­å° + AIæ’ç­ + æ–°å¼€150å®¶å¿«å–åº—<br><br>
            
            <strong>ç¬¬ä¸‰é˜¶æ®µï¼ˆ12-18ä¸ªæœˆï¼‰ï¼š</strong>è§„æ¨¡åŒ–å¤åˆ¶<br>
            Â· è¥é”€ï¼šæ™ºèƒ½è¥é”€å¼•æ“ + ç§åŸŸç”¨æˆ·10ä¸‡<br>
            Â· ä¾›åº”é“¾ï¼šæœŸè´§å¯¹å†²å·¥å…· + 5ä¸ªç›´é‡‡åŸºåœ°å…¨è¦†ç›–<br>
            Â· é—¨åº—ï¼šå…¨æ¸ é“èåˆ + AIé€‰å€ + ç´¯è®¡300å®¶å¿«å–åº—
        </div>
    </div>
    
    <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 6px;">
        <div style="font-weight: 600; margin-bottom: 10px; font-size: 14px;">é¢„æœŸç»¼åˆæ•ˆæœ</div>
        <div style="font-size: 13px; line-height: 1.8;">
            <strong>ä¸šåŠ¡æŒ‡æ ‡ï¼š</strong><br>
            Â· è¥æ”¶å¢é•¿ï¼š70-80%ï¼ˆè¥é”€25%+ä¾›åº”é“¾é™æœ¬15%+é—¨åº—50%ï¼‰<br>
            Â· æ¯›åˆ©ç‡æå‡ï¼š5-8ä¸ªç‚¹ï¼ˆä¾›åº”é“¾ä¼˜åŒ–+è§„æ¨¡æ•ˆåº”ï¼‰<br>
            Â· ç”¨æˆ·ä»·å€¼ï¼šLTV/CACä»5æå‡è‡³8+<br>
            Â· è¿è¥æ•ˆç‡ï¼šäººæ•ˆæå‡35%ï¼Œåªæ•ˆæå‡25%<br><br>
            
            <strong>è´¢åŠ¡æŒ‡æ ‡ï¼š</strong><br>
            Â· ç³»ç»ŸæŠ•èµ„ï¼š1050-1250ä¸‡ï¼ˆ18ä¸ªæœˆåˆ†æœŸï¼‰<br>
            Â· é—¨åº—æŠ•èµ„ï¼š2.1äº¿ï¼ˆ300å®¶å¿«å–åº—ï¼Œå•åº—70ä¸‡ï¼‰<br>
            Â· æŠ•èµ„å›æ”¶æœŸï¼šé—¨åº—14ä¸ªæœˆï¼Œç³»ç»Ÿ12ä¸ªæœˆ<br>
            Â· å¹´å‡€å¢åˆ©æ¶¦ï¼š8000-12000ä¸‡ï¼ˆåŸºäºæˆæœ¬ä¼˜åŒ–+è¥æ”¶å¢é•¿ï¼‰<br><br>
            
            <strong>æ ¸å¿ƒä»·å€¼ï¼š</strong>ä¸‰ä¸ªç»´åº¦ä¸æ˜¯å­¤ç«‹ä¼˜åŒ–ï¼Œè€Œæ˜¯ååŒä½œæˆ˜ã€‚è¥é”€å¢é•¿æå‡ç”¨æˆ·ä»·å€¼ï¼Œä¾›åº”é“¾é™ä½æˆæœ¬æå‡æ¯›åˆ©ï¼Œé—¨åº—æ‰©å¼ æ”¾å¤§è§„æ¨¡æ•ˆåº”ï¼Œå½¢æˆæ­£å‘é£è½®ï¼Œå®ç°ä¸šåŠ¡è·¨è¶Šå¼å¢é•¿ã€‚
        </div>
    </div>
</div>`;
                },
                
                async generateReport() {
                    this.loading = true;
                    this.error = null;
                    this.statusMessage = 'æ­£åœ¨è·å–å®æ—¶èµ„è®¯ï¼ˆå›½å†…+å›½é™…ï¼‰...';
                    
                    try {
                        const newsItems = await this.fetchRealNews();
                        
                        if (newsItems.length === 0) {
                            // æ²¡æœ‰è·å–åˆ°èµ„è®¯ï¼Œæ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
                            this.error = 'âš ï¸ è¿‡å»3å¤©æœªè·å–åˆ°å’–å•¡è¡Œä¸šç›¸å…³èµ„è®¯ä¿¡æ¯\n\n' +
                                'å¯èƒ½åŸå› ï¼š\n' +
                                '1. The Guardian è¿‘æœŸæ²¡æœ‰ç›¸å…³å’–å•¡è¡Œä¸šæŠ¥é“\n' +
                                '2. ç½‘ç»œè¿æ¥é—®é¢˜\n' +
                                '3. API æœåŠ¡æš‚æ—¶ä¸å¯ç”¨\n\n' +
                                'ğŸ’¡ å»ºè®®ï¼š\n' +
                                'â€¢ ç¨åå†è¯•\n' +
                                'â€¢ æ£€æŸ¥ç½‘ç»œè¿æ¥\n' +
                                'â€¢ æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°(F12)çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯';
                            this.statusMessage = 'â„¹ï¸ æš‚æ— èµ„è®¯';
                            this.loading = false;
                            return;
                        }
                        
                        this.loadingMessage = 'AI æ­£åœ¨åˆ†æèµ„è®¯å†…å®¹...';
                        await new Promise(resolve => setTimeout(resolve, 1000));
                        
                        const now = new Date();
                        const today = now.toISOString().split('T')[0];
                        const collectTime = now.toLocaleString('zh-CN', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit',
                            hour: '2-digit',
                            minute: '2-digit',
                            second: '2-digit',
                            hour12: false
                        });
                        
                        // ç»Ÿè®¡å›½å†…å’Œå›½é™…èµ„è®¯æ•°é‡
                        const chineseSources = ['36æ°ª', 'è‰¾ç‘å’¨è¯¢', 'è™å—…', 'é’›åª’ä½“', '36kr'];
                        const chineseCount = newsItems.filter(item => 
                            chineseSources.some(source => item.source.includes(source))
                        ).length;
                        const internationalCount = newsItems.length - chineseCount;
                        
                        this.currentReport = {
                            date: today,
                            collectTime: collectTime,
                            news_items: newsItems,
                            analysis: this.generateAnalysis(newsItems),
                            recommendations: this.generateRecommendations()
                        };
                        
                        this.statusMessage = `âœ… æˆåŠŸè·å– ${newsItems.length} æ¡èµ„è®¯ï¼ˆæœ€è¿‘3å¤©ï¼šå›½å†…${chineseCount}æ¡ + å›½é™…${internationalCount}æ¡ï¼‰Â· ${collectTime}`;
                        
                    } catch (error) {
                        console.error('è·å–èµ„è®¯å¤±è´¥:', error);
                        this.error = `è·å–èµ„è®¯æ—¶å‘ç”Ÿé”™è¯¯: ${error.message}ã€‚è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•ã€‚`;
                        this.statusMessage = 'âŒ è·å–å¤±è´¥';
                        this.loading = false;
                    }
                },
                
                async downloadPDF() {
                    if (!this.currentReport) {
                        alert('è¯·å…ˆè·å–èµ„è®¯æŠ¥å‘Š');
                        return;
                    }
                    
                    this.downloading = true;
                    this.statusMessage = 'æ­£åœ¨ç”ŸæˆPDFï¼Œè¯·ç¨å€™...';
                    
                    let tempContainer = null; // åœ¨å¤–éƒ¨å®šä¹‰ï¼Œä»¥ä¾¿catchå—å¯ä»¥æ¸…ç†
                    
                    try {
                        // å»¶è¿Ÿä¸€ä¸‹ï¼Œè®©çŠ¶æ€æ¶ˆæ¯æ˜¾ç¤º
                        await new Promise(resolve => setTimeout(resolve, 100));
                        
                        const { jsPDF } = window.jspdf;
                        
                        // è·å–æ ‡é¢˜å’ŒæŠ¥å‘Šå®¹å™¨
                        const headerElement = document.querySelector('.header');
                        const reportElement = document.querySelector('.report-card');
                        
                        if (!headerElement || !reportElement) {
                            throw new Error('æ‰¾ä¸åˆ°æŠ¥å‘Šå†…å®¹');
                        }
                        
                        console.log('å¼€å§‹æ¸²æŸ“æŠ¥å‘Šå†…å®¹ï¼ˆåŒ…å«æ ‡é¢˜ï¼‰...');
                        this.statusMessage = 'æ­£åœ¨æ¸²æŸ“æŠ¥å‘Šå†…å®¹ï¼ˆ1/3ï¼‰...';
                        
                        // åˆ›å»ºä¸´æ—¶å®¹å™¨ï¼ŒåŒ…å«æ ‡é¢˜å’ŒæŠ¥å‘Š
                        tempContainer = document.createElement('div');
                        tempContainer.style.cssText = 'position: fixed; left: -9999px; top: 0; background: white; padding: 40px; width: 1200px;';
                        
                        // å…‹éš†æ ‡é¢˜å’ŒæŠ¥å‘Š
                        const headerClone = headerElement.cloneNode(true);
                        const reportClone = reportElement.cloneNode(true);
                        
                        // ç§»é™¤å®æ—¶æ ‡ç­¾ï¼ˆä¸éœ€è¦åœ¨PDFä¸­æ˜¾ç¤ºï¼‰
                        const liveBadge = headerClone.querySelector('.live-badge');
                        if (liveBadge) liveBadge.remove();
                        
                        tempContainer.appendChild(headerClone);
                        tempContainer.appendChild(reportClone);
                        document.body.appendChild(tempContainer);
                        
                        // ç¡®ä¿æŠ¥å‘Šå†…å®¹å®Œå…¨å±•å¼€
                        reportClone.style.overflow = 'visible';
                        reportClone.style.maxHeight = 'none';
                        
                        // ä½¿ç”¨html2canvaså°†HTMLè½¬æ¢ä¸ºé«˜æ¸…å›¾ç‰‡
                        const canvas = await html2canvas(tempContainer, {
                            scale: 3,  // æé«˜åˆ°3å€åˆ†è¾¨ç‡ï¼Œç¡®ä¿æ¸…æ™°
                            useCORS: true,
                            allowTaint: true,
                            logging: false,
                            backgroundColor: '#ffffff',
                            windowWidth: tempContainer.scrollWidth,
                            windowHeight: tempContainer.scrollHeight
                        });
                        
                        console.log('æ¸²æŸ“å®Œæˆï¼Œç”ŸæˆPDF...');
                        this.statusMessage = 'æ­£åœ¨ç”ŸæˆPDFæ–‡ä»¶ï¼ˆ2/3ï¼‰...';
                        
                        // ç§»é™¤ä¸´æ—¶å®¹å™¨
                        document.body.removeChild(tempContainer);
                        
                        const imgData = canvas.toDataURL('image/jpeg', 0.95);  // ä½¿ç”¨JPEGæ ¼å¼ï¼Œè´¨é‡95%
                        const imgWidth = 210; // A4å®½åº¦(mm)
                        const pageHeight = 297; // A4é«˜åº¦(mm)
                        const imgHeight = (canvas.height * imgWidth) / canvas.width;
                        
                        const pdf = new jsPDF('p', 'mm', 'a4');
                        let heightLeft = imgHeight;
                        let position = 0;
                        
                        console.log(`å†…å®¹é«˜åº¦: ${imgHeight}mm, éœ€è¦ ${Math.ceil(imgHeight / pageHeight)} é¡µ`);
                        
                        // æ·»åŠ ç¬¬ä¸€é¡µ
                        pdf.addImage(imgData, 'JPEG', 0, position, imgWidth, imgHeight);
                        heightLeft -= pageHeight;
                        
                        // å¦‚æœå†…å®¹è¶…è¿‡ä¸€é¡µï¼Œæ·»åŠ æ›´å¤šé¡µ
                        let pageNum = 1;
                        while (heightLeft > 0) {
                            position = heightLeft - imgHeight;
                            pdf.addPage();
                            pdf.addImage(imgData, 'JPEG', 0, position, imgWidth, imgHeight);
                            heightLeft -= pageHeight;
                            pageNum++;
                        }
                        
                        console.log(`PDFå…± ${pageNum} é¡µ`);
                        this.statusMessage = 'æ­£åœ¨ä¿å­˜PDFæ–‡ä»¶ï¼ˆ3/3ï¼‰...';
                        
                        // ç”Ÿæˆæ–‡ä»¶åï¼ˆåŒ…å«æ—¥æœŸæ—¶é—´ï¼‰
                        const now = new Date();
                        const dateStr = now.toISOString().slice(0, 10);
                        const timeStr = now.toTimeString().slice(0, 8).replace(/:/g, '-');
                        const filename = `å…¨çƒæ™ºè®¯æ—¥æŠ¥_${dateStr}_${timeStr}.pdf`;
                        
                        // ä¸‹è½½PDF
                        pdf.save(filename);
                        
                        this.statusMessage = `âœ… PDFå·²ç”Ÿæˆï¼å…± ${pageNum} é¡µï¼Œæ–‡ä»¶ï¼š${filename}`;
                        setTimeout(() => {
                            alert(`PDFæŠ¥å‘Šå·²ç”Ÿæˆå¹¶ä¸‹è½½ï¼\n\næ–‡ä»¶åï¼š${filename}\né¡µæ•°ï¼š${pageNum} é¡µ\n\nåŒ…å«å®Œæ•´å†…å®¹ï¼š\nâ€¢ å…¨çƒæ™ºè®¯æ—¥æŠ¥æ ‡é¢˜\nâ€¢ ä»Šæ—¥è¦é—»ï¼ˆå…¬å¸/è¡Œä¸š/å¸‚åœºåˆ†ç±»ï¼‰\nâ€¢ AIæ·±åº¦åˆ†æï¼ˆäººè´§åœºè¡¨æ ¼ï¼‰\nâ€¢ æˆ˜ç•¥è§„åˆ’ï¼ˆè¥é”€å¢é•¿/ä¾›åº”é“¾/é—¨åº—è¿è¥ï¼‰`);
                        }, 500);
                        
                    } catch (error) {
                        console.error('ç”ŸæˆPDFå¤±è´¥:', error);
                        this.statusMessage = 'âŒ PDFç”Ÿæˆå¤±è´¥';
                        
                        // æ¸…ç†ä¸´æ—¶å®¹å™¨ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
                        if (tempContainer && tempContainer.parentNode) {
                            document.body.removeChild(tempContainer);
                        }
                        
                        alert('ç”ŸæˆPDFå¤±è´¥ï¼š' + error.message + '\n\nè¯·ç¡®ä¿ï¼š\n1. å·²æˆåŠŸåŠ è½½æŠ¥å‘Šå†…å®¹\n2. æµè§ˆå™¨æ”¯æŒä¸‹è½½åŠŸèƒ½\n3. ç½‘ç»œè¿æ¥æ­£å¸¸');
                    } finally {
                        this.downloading = false;
                    }
                }
            },
            mounted() {
                // é¡µé¢åŠ è½½å®Œæˆåæ£€æŸ¥ç¼“å­˜
                console.log('é¡µé¢å·²åŠ è½½');
                
                // å°è¯•ä»ç¼“å­˜å¿«é€ŸåŠ è½½
                const cacheKey = 'coffee_news_cache';
                const cacheTimeKey = 'coffee_news_cache_time';
                const cacheData = localStorage.getItem(cacheKey);
                const cacheTime = localStorage.getItem(cacheTimeKey);
                
                if (cacheData && cacheTime) {
                    const cacheAge = Date.now() - parseInt(cacheTime);
                    const minutesAgo = Math.round(cacheAge / 60000);
                    
                    if (cacheAge < 30 * 60 * 1000) { // 30åˆ†é’Ÿå†…çš„ç¼“å­˜è‡ªåŠ¨åŠ è½½
                        console.log(`âš¡ å‘ç°ç¼“å­˜æ•°æ®ï¼ˆ${minutesAgo}åˆ†é’Ÿå‰ï¼‰ï¼Œè‡ªåŠ¨åŠ è½½...`);
                        this.statusMessage = `ä½¿ç”¨ç¼“å­˜æ•°æ®ï¼ˆ${minutesAgo}åˆ†é’Ÿå‰æ›´æ–°ï¼‰`;
                        this.generateReport();
                    } else {
                        this.statusMessage = `ç¼“å­˜å·²è¿‡æœŸï¼ˆ${minutesAgo}åˆ†é’Ÿå‰ï¼‰ï¼Œç‚¹å‡»æŒ‰é’®è·å–æœ€æ–°èµ„è®¯`;
                    }
                } else {
                    this.statusMessage = 'ç‚¹å‡»æŒ‰é’®è·å–æœ€æ–°å’–å•¡è¡Œä¸šèµ„è®¯';
                }
            }
        }).mount('#app');
    </script>
</body>
</html>

