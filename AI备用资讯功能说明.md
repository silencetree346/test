# 🤖 AI备用资讯功能说明

## 📋 功能介绍

当系统无法获取实时资讯数据源时，会自动启用**AI备用资讯功能**，基于大模型的知识库生成过去24小时可能发生的咖啡和奶茶行业相关资讯。

---

## ✨ 功能特点

### 1️⃣ **自动降级机制**
- ✅ 优先尝试获取真实资讯源（36氪、虎嗅、钛媒体等）
- ✅ 如果所有数据源都失败，自动启用AI生成
- ✅ 无需手动干预，智能切换

### 2️⃣ **两种工作模式**

#### 模式A：预设数据模式（默认）
- 使用10条精心准备的行业资讯模板
- **优点**：快速、稳定、无需配置
- **适用**：快速演示、测试使用

#### 模式B：AI实时生成（需配置）
- 使用DeepSeek大模型实时生成资讯
- **优点**：内容更新、更贴近实际
- **需要**：配置API Key

---

## ⚙️ 配置AI实时生成（可选）

### 步骤1：获取API Key

1. **注册DeepSeek账号**
   - 访问：https://platform.deepseek.com/
   - 注册账号并登录

2. **获取API Key**
   - 进入"API Keys"页面
   - 点击"Create API Key"
   - 复制生成的密钥

3. **充值（可选）**
   - 新用户通常有免费额度
   - 根据需要充值（1元可调用多次）

### 步骤2：配置到系统

打开 `docs/index.html` 文件，找到以下位置：

```javascript
data() {
    return {
        // ... 其他配置
        AI_API_KEY: '', // ← 这里填入你的API Key
        AI_API_BASE: 'https://api.deepseek.com'
    };
}
```

修改为：

```javascript
AI_API_KEY: 'sk-xxxxxxxxxxxxxxxxxxxxxxxx', // 填入你的真实API Key
```

保存文件即可。

---

## 🎯 使用场景

### 场景1：演示展示
- **情况**：向客户展示系统功能
- **方案**：使用默认预设数据（无需配置）
- **效果**：快速展示，内容专业

### 场景2：日常使用
- **情况**：实时数据源暂时不可用
- **方案**：自动降级到AI生成
- **效果**：持续提供资讯服务

### 场景3：测试开发
- **情况**：开发环境没有真实数据源
- **方案**：配置AI Key或使用预设数据
- **效果**：便于功能测试

---

## 📊 生成内容示例

### AI会生成以下类型的资讯：

**1. 公司动态**
- 财报发布、门店扩张、产品创新
- 示例：*"瑞幸咖啡Q4财报超预期，门店数突破18000家"*

**2. 行业趋势**
- 市场规模、消费趋势、技术发展
- 示例：*"全球咖啡消费量稳步增长，中国市场增速最快"*

**3. 市场变化**
- 原材料价格、投融资、渠道变革
- 示例：*"咖啡豆价格持续上涨，行业成本压力加大"*

**4. 产品创新**
- 新品发布、品类拓展、配方升级
- 示例：*"植物基咖啡受追捧，健康趋势引领产品创新"*

**5. 商业合作**
- 融资并购、战略合作、品牌联名
- 示例：*"Manner Coffee获得新一轮融资，估值突破30亿美元"*

---

## 🔍 如何识别AI生成内容

### 界面提示

当使用AI生成资讯时，页面会显示醒目提示：

```
🤖 当前显示AI生成资讯（基于过去24小时行业知识）
未获取到实时数据源，已自动生成咖啡奶茶行业相关资讯供参考
```

### 状态信息

底部状态栏会显示：

```
🤖 已生成 10 条AI资讯（基于过去24小时行业知识）· 2025-01-06 14:30:25
```

### 资讯来源标识

每条资讯的来源会显示为：
- "AI生成"
- "财经资讯"
- "品牌动态"
- "投资快讯"
等

---

## ⚠️ 注意事项

### 1. 数据真实性
- ✅ AI生成内容基于真实行业趋势
- ⚠️ 具体数据和时间仅供参考
- 💡 建议用于趋势分析而非精确决策

### 2. 更新频率
- 预设数据：固定内容，不会变化
- AI生成：每次调用可能生成不同内容

### 3. API成本
- 预设模式：完全免费
- AI模式：按调用次数计费（通常每次几分钱）

### 4. 网络要求
- 预设模式：无需网络（离线可用）
- AI模式：需要网络连接到DeepSeek API

---

## 🚀 最佳实践

### 推荐配置

**场景A：企业正式使用**
```
✅ 配置真实数据源（36氪、虎嗅等）
✅ 配置DeepSeek API Key
✅ 设置合理的缓存时间
```

**场景B：演示展示**
```
✅ 使用预设AI数据（默认）
✅ 无需额外配置
✅ 快速展示效果
```

**场景C：个人学习**
```
✅ 使用预设数据即可
✅ 或申请免费API Key
✅ 体验完整功能
```

---

## 💡 常见问题

### Q1: AI生成的资讯准确吗？
**A:** AI基于真实的行业知识生成，趋势方向准确，但具体数据和时间仅供参考。建议结合真实数据源使用。

### Q2: 不配置API Key可以用吗？
**A:** 可以！系统默认使用10条精心准备的预设资讯，无需配置即可使用。

### Q3: API Key会过期吗？
**A:** DeepSeek的API Key长期有效，除非主动删除。免费额度用完后需要充值。

### Q4: 如何切换回真实数据？
**A:** 系统会自动优先使用真实数据源。只要数据源可用，就不会使用AI生成。

### Q5: 可以自定义生成内容吗？
**A:** 可以！修改 `generateAIFallbackNews()` 方法中的提示词，自定义生成的资讯类型和风格。

---

## 🔧 技术实现

### 工作流程

```
1. 用户点击"生成报告"
   ↓
2. 尝试获取真实数据源
   ↓
3. 如果获取失败 → 启动AI备用方案
   ↓
4. 检查是否配置API Key
   ├─ 有 → 调用AI生成
   └─ 无 → 使用预设数据
   ↓
5. 显示资讯 + 醒目提示
```

### 关键代码位置

- **AI生成方法**：`generateAIFallbackNews()`
- **预设数据方法**：`getPresetFallbackNews()`
- **降级逻辑**：`generateReport()` 中的错误处理
- **界面提示**：报告卡片顶部的条件渲染

---

## 📞 技术支持

如有问题，请：
1. 查看浏览器控制台日志
2. 检查API Key配置是否正确
3. 确认网络连接正常
4. 查看本文档常见问题部分

---

## 🎉 总结

AI备用资讯功能为系统提供了强大的容错能力：
- ✅ 确保服务持续可用
- ✅ 提供专业的行业内容
- ✅ 灵活的配置选项
- ✅ 清晰的状态提示

无论是否配置API Key，系统都能正常运行！🚀

