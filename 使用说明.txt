【快速开始】

1. 配置环境
   cd backend
   cp .env.example .env
   
   编辑 .env 文件，填入必需的配置：
   - OPENAI_API_KEY=你的OpenAI密钥（必需）
   - NEWS_API_KEY=你的NewsAPI密钥（可选，访问 https://newsapi.org 获取）

2. 启动服务
   chmod +x start.sh
   ./start.sh

3. 打开前端
   用浏览器打开 frontend/index.html

【功能说明】

✅ 自动新闻抓取
   - 每天定时抓取咖啡行业相关新闻
   - 支持多个新闻源

✅ AI智能分析
   - 使用GPT-4分析行业趋势
   - 生成深度洞察报告

✅ 战略建议
   - 提供5条可执行的战略建议
   - 基于最新市场动态

✅ 定时推送
   - 每天上午9:00自动生成报告
   - 可配置推送时间

✅ 邮件通知
   - 支持邮件推送报告
   - 支持多收件人

✅ 可视化界面
   - 现代化UI设计
   - 实时查看报告
   - 手动生成报告

【邮件配置】

在 backend/.env 中配置：

EMAIL_ENABLED=true
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=你的邮箱@gmail.com
SMTP_PASSWORD=邮箱应用专用密码
RECIPIENT_EMAILS=收件人1@example.com,收件人2@example.com

Gmail配置步骤：
1. 开启两步验证
2. 生成应用专用密码
3. 使用应用专用密码作为 SMTP_PASSWORD

【修改定时任务时间】

在 backend/.env 中添加：
DAILY_REPORT_HOUR=9
DAILY_REPORT_MINUTE=0

或直接修改 backend/config.py

【API接口】

GET  http://localhost:8000/api/reports
     获取所有历史报告

GET  http://localhost:8000/api/reports/latest
     获取最新报告

POST http://localhost:8000/api/reports/generate
     手动触发生成报告

GET  http://localhost:8000/api/news
     获取最新咖啡新闻

【常见问题】

Q: 如何获取 OpenAI API Key？
A: 访问 https://platform.openai.com/api-keys 创建

Q: 没有配置 NEWS_API_KEY 可以用吗？
A: 可以，系统会使用模拟数据

Q: 如何修改报告保存数量？
A: 修改 backend/config.py 中的 MAX_STORED_REPORTS

Q: 如何停止服务？
A: 在终端按 Ctrl+C

【技术架构】

后端:
- FastAPI - 高性能异步Web框架
- APScheduler - 定时任务调度
- OpenAI API - AI分析
- BeautifulSoup - 网页解析
- HTTPX - 异步HTTP客户端

前端:
- Vue 3 - 渐进式JavaScript框架
- Axios - HTTP客户端
- 响应式设计

【项目结构】

test/
├── backend/
│   ├── main.py              # 主服务
│   ├── config.py            # 配置管理
│   ├── email_service.py     # 邮件服务
│   ├── requirements.txt     # Python依赖
│   ├── .env.example         # 环境变量示例
│   └── .env                 # 环境变量（需创建）
├── frontend/
│   └── index.html           # 前端页面
├── start.sh                 # 启动脚本
└── README.txt               # 说明文档




